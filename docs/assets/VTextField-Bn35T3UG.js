import{h as j,p as G,t as $,m as X,a as l,z as Z,B as ie,I as p,O as fe,aE as ve,av as me,b,r as T,e as ge,aF as be,G as W,q,T as ye,b9 as K,L as Q,u as xe,aw as Ce,ak as he,bM as Ve,W as ae,aU as ke}from"./index-BtIo2-Z_.js";import{d as Ie,c as _e}from"./index-C5-hvfiu.js";import{M as Pe,s as Fe,r as Se,d as Be,b as we,a as Le,L as Te,g as Re,e as Ae,z as $e}from"./index-SDX8Otz2.js";import{a as De,b as Ee,u as oe,c as Me,V as te,m as Ne}from"./VInput-CRZE-Mt3.js";import{n as Oe,b as Ue,s as ze,f as We}from"./forwardRefs--KQCZfKO.js";import{I as qe}from"./VImg-FY_z5S7Z.js";const je=G({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...p(),...Fe({transition:{component:Ie}})},"VCounter"),Ge=j()({name:"VCounter",functional:!0,props:je(),setup(e,C){let{slots:s}=C;const I=$(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return X(()=>l(Pe,{transition:e.transition},{default:()=>[Z(l("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[s.default?s.default({counter:I.value,max:e.max,value:e.value}):I.value]),[[ie,e.active]])]})),{}}}),Xe=G({floating:Boolean,...p()},"VFieldLabel"),z=j()({name:"VFieldLabel",props:Xe(),setup(e,C){let{slots:s}=C;return X(()=>l(De,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},s)),{}}}),Ye=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],re=G({appendInnerIcon:Q,bgColor:String,clearable:Boolean,clearIcon:{type:Q,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Q,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ye.includes(e)},"onClick:clear":K(),"onClick:appendInner":K(),"onClick:prependInner":K(),...p(),...$e(),...Ae(),...ye()},"VField"),ne=j()({name:"VField",inheritAttrs:!1,props:{id:String,...Ee(),...re()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,C){let{attrs:s,emit:I,slots:a}=C;const{themeClasses:f}=fe(e),{loaderClasses:h}=Se(e),{focusClasses:Y,isFocused:R,focus:_,blur:P}=oe(e),{InputIcon:F}=Me(e),{roundedClasses:H}=Be(e),{rtlClasses:D}=ve(),V=$(()=>e.dirty||e.active),y=$(()=>!!(e.label||a.label)),S=$(()=>!e.singleLine&&y.value),B=me(),u=b(()=>e.id||`input-${B}`),E=$(()=>`${u.value}-messages`),M=T(),w=T(),t=T(),i=b(()=>["plain","underlined"].includes(e.variant)),o=b(()=>e.error||e.disabled?void 0:V.value&&R.value?e.color:e.baseColor),r=b(()=>{if(!(!e.iconColor||e.glow&&!R.value))return e.iconColor===!0?o.value:e.iconColor}),{backgroundColorClasses:ee,backgroundColorStyles:J}=we(()=>e.bgColor),{textColorClasses:N,textColorStyles:x}=Le(o);ge(V,v=>{if(S.value){const c=M.value.$el,m=w.value.$el;requestAnimationFrame(()=>{const g=Oe(c),n=m.getBoundingClientRect(),L=n.x-g.x,k=n.y-g.y-(g.height/2-n.height/2),A=n.width/.75,U=Math.abs(A-g.width)>1?{maxWidth:be(A)}:void 0,se=getComputedStyle(c),le=getComputedStyle(m),ue=parseFloat(se.transitionDuration)*1e3||150,de=parseFloat(le.getPropertyValue("--v-field-label-scale")),ce=le.getPropertyValue("color");c.style.visibility="visible",m.style.visibility="hidden",Ue(c,{transform:`translate(${L}px, ${k}px) scale(${de})`,color:ce,...U},{duration:ue,easing:ze,direction:v?"normal":"reverse"}).finished.then(()=>{c.style.removeProperty("visibility"),m.style.removeProperty("visibility")})})}},{flush:"post"});const d=b(()=>({isActive:V,isFocused:R,controlRef:t,blur:P,focus:_}));function O(v){v.target!==document.activeElement&&v.preventDefault()}return X(()=>{var L,k,A;const v=e.variant==="outlined",c=!!(a["prepend-inner"]||e.prependInnerIcon),m=!!(e.clearable||a.clear)&&!e.disabled,g=!!(a["append-inner"]||e.appendInnerIcon||m),n=()=>a.label?a.label({...d.value,label:e.label,props:{for:u.value}}):e.label;return l("div",q({class:["v-field",{"v-field--active":V.value,"v-field--appended":g,"v-field--center-affix":e.centerAffix??!i.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":c,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!n(),[`v-field--variant-${e.variant}`]:!0},f.value,ee.value,Y.value,h.value,H.value,D.value,e.class],style:[J.value,e.style],onClick:O},s),[l("div",{class:"v-field__overlay"},null),l(Te,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),c&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(F,{key:"prepend-icon",name:"prependInner",color:r.value},null),(L=a["prepend-inner"])==null?void 0:L.call(a,d.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&S.value&&l(z,{key:"floating-label",ref:w,class:[N.value],floating:!0,for:u.value,style:x.value},{default:()=>[n()]}),y.value&&l(z,{key:"label",ref:M,for:u.value},{default:()=>[n()]}),((k=a.default)==null?void 0:k.call(a,{...d.value,props:{id:u.value,class:"v-field__input","aria-describedby":E.value},focus:_,blur:P}))??l("div",{id:u.value,class:"v-field__input","aria-describedby":E.value},null)]),m&&l(_e,{key:"clear"},{default:()=>[Z(l("div",{class:"v-field__clearable",onMousedown:U=>{U.preventDefault(),U.stopPropagation()}},[l(Re,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[a.clear?a.clear({...d.value,props:{onFocus:_,onBlur:P,onClick:e["onClick:clear"]}}):l(F,{name:"clear",onFocus:_,onBlur:P},null)]})]),[[ie,e.dirty]])]}),g&&l("div",{key:"append",class:"v-field__append-inner"},[(A=a["append-inner"])==null?void 0:A.call(a,d.value),e.appendInnerIcon&&l(F,{key:"append-icon",name:"appendInner",color:r.value},null)]),l("div",{class:["v-field__outline",N.value],style:x.value},[v&&l(W,null,[l("div",{class:"v-field__outline__start"},null),S.value&&l("div",{class:"v-field__outline__notch"},[l(z,{ref:w,floating:!0,for:u.value},{default:()=>[n()]})]),l("div",{class:"v-field__outline__end"},null)]),i.value&&S.value&&l(z,{ref:w,floating:!0,for:u.value},{default:()=>[n()]})])])}),{controlRef:t,fieldIconColor:r}}}),He=["color","file","time","date","datetime-local","week","month"],Je=G({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Ne(),...re()},"VTextField"),al=j()({name:"VTextField",directives:{Intersect:qe},inheritAttrs:!1,props:Je(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,C){let{attrs:s,emit:I,slots:a}=C;const f=xe(e,"modelValue"),{isFocused:h,focus:Y,blur:R}=oe(e),_=b(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:(f.value??"").toString().length),P=b(()=>{if(s.maxlength)return s.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),F=b(()=>["plain","underlined"].includes(e.variant));function H(t,i){var o,r;!e.autofocus||!t||(r=(o=i[0].target)==null?void 0:o.focus)==null||r.call(o)}const D=T(),V=T(),y=T(),S=b(()=>He.includes(e.type)||e.persistentPlaceholder||h.value||e.active);function B(){var t;y.value!==document.activeElement&&((t=y.value)==null||t.focus()),h.value||Y()}function u(t){I("mousedown:control",t),t.target!==y.value&&(B(),t.preventDefault())}function E(t){B(),I("click:control",t)}function M(t){t.stopPropagation(),B(),ae(()=>{f.value=null,ke(e["onClick:clear"],t)})}function w(t){var o;const i=t.target;if(f.value=i.value,(o=e.modelModifiers)!=null&&o.trim&&["text","search","password","tel","url"].includes(e.type)){const r=[i.selectionStart,i.selectionEnd];ae(()=>{i.selectionStart=r[0],i.selectionEnd=r[1]})}}return X(()=>{const t=!!(a.counter||e.counter!==!1&&e.counter!=null),i=!!(t||a.details),[o,r]=Ce(s),{modelValue:ee,...J}=te.filterProps(e),N=ne.filterProps(e);return l(te,q({ref:D,modelValue:f.value,"onUpdate:modelValue":x=>f.value=x,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":F.value},e.class],style:e.style},o,J,{centerAffix:!F.value,focused:h.value}),{...a,default:x=>{let{id:d,isDisabled:O,isDirty:v,isReadonly:c,isValid:m}=x;return l(ne,q({ref:V,onMousedown:u,onClick:E,"onClick:clear":M,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},N,{id:d.value,active:S.value||v.value,dirty:v.value||e.dirty,disabled:O.value,focused:h.value,error:m.value===!1}),{...a,default:g=>{let{props:{class:n,...L}}=g;const k=Z(l("input",q({ref:y,value:f.value,onInput:w,autofocus:e.autofocus,readonly:c.value,disabled:O.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:B,onBlur:R},L,r),null),[[he("intersect"),{handler:H},null,{once:!0}]]);return l(W,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),a.default?l("div",{class:n,"data-no-activator":""},[a.default(),k]):Ve(k,{class:n}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:i?x=>{var d;return l(W,null,[(d=a.details)==null?void 0:d.call(a,x),t&&l(W,null,[l("span",null,null),l(Ge,{active:e.persistentCounter||h.value,value:_.value,max:P.value,disabled:e.disabled},a.counter)])])}:void 0})}),We({},D,V,y)}});export{al as V,ne as a,Ge as b,Je as c,re as m};
