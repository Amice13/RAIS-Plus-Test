import{R as V,a9 as r,a3 as o,Q as d,S as i,a6 as n,u as c,a4 as f,Y as p,W as u,F as y,aa as _,a2 as w,a8 as b,ad as P}from"./@vue-CVhpfiSJ.js";import{_ as Y}from"./index-Dr3A69Vy.js";import{n as k,I as B,f as C}from"./vuetify-8yKwgmF2.js";const S=function(){return[e=>!e||e.length===19||this.$t("This is not a full phone number")]},N={name:"CustomPhone",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Phone number"},multiple:{type:Boolean,default:!1},mode:{type:String,default:"view"},showEmpty:{type:Boolean,default:!1},narrow:{type:Boolean,default:!1}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},validationRules:S},mounted(){!this.multiple&&!this.modelValue.length&&this.model.push("")},data(){return{options:{mask:"+38 (###) ### ## ##"},key:0}},methods:{addPhone(e){if(document.activeElement.tagName==="I")return this.removePhone(e);this.model.push(""),this.key++,this.$nextTick(()=>{let t=this.$refs.phones.querySelectorAll("input");t!=null&&t.length&&t[t.length-1].focus()})},removePhone(e){this.model.splice(e,1),this.key++},cleanPhone(e){return e?(typeof e=="object"&&(e=e[0]||""),e.replace(/[a-zа-яєіїґ ()-,.]/gi,"")):""}}},E={class:"phone"},T={class:"d-flex"},A={class:"mr-2"},D=["href"];function F(e,t,a,K,v,l){const g=V("maska");return o(),r("div",E,[d(n("div",null,[n("div",T,[n("div",A,[c(k,{left:""},{default:f(()=>t[0]||(t[0]=[p("mdi-phone")])),_:1})]),n("div",null,[d(n("div",{class:"mb-4"},u(e.$t("No phones are added.")),513),[[i,l.model.length===0]]),(o(!0),r(y,null,_([...l.model],m=>(o(),r("div",{key:m,class:"mb-2"},[n("a",{href:"tel:"+l.cleanPhone(m)},u(m),9,D)]))),128))])])],512),[[i,a.mode==="view"&&(l.model.length>0||a.showEmpty)]]),d((o(),r("div",{ref:"phones",key:v.key},[d(n("div",{class:"mb-4"},u(e.$t("You have not added any phone yet.")),513),[[i,l.model.length===0]]),(o(!0),r(y,null,_(l.model,(m,s)=>d((o(),w(B,{modelValue:l.model[s],"onUpdate:modelValue":h=>l.model[s]=h,rules:l.validationRules,"validate-on":"blur",key:"phone-"+s,label:a.label,"append-icon":l.model.length>1?"mdi-delete":"","onClick:append":h=>l.removePhone(s),onKeydown:b(h=>l.addPhone(s),["enter"]),placeholder:"+38 (XXX) YYYY YY YY",variant:"underlined"},null,8,["modelValue","onUpdate:modelValue","rules","label","append-icon","onClick:append","onKeydown"])),[[g,void 0,v.options]])),128)),d(c(C,{onClick:l.addPhone,small:a.narrow,class:P(["mt-4",{"mb-4":a.narrow}])},{default:f(()=>[c(k,{left:""},{default:f(()=>t[1]||(t[1]=[p("mdi-plus")])),_:1}),p(" "+u(e.$t("Add phone")),1)]),_:1},8,["onClick","small","class"]),[[i,a.multiple]])])),[[i,a.mode==="edit"]])])}const I=Y(N,[["render",F]]);export{I as _};
