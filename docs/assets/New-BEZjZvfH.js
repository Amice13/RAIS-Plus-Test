import{_ as k}from"./ImportDialog-BvsFXiNi.js";import{_ as V,o as g,c as C,w as l,a as o,z as f,a4 as b,C as c,A as m,F as B}from"./index-BYWsBYtF.js";import{a as U,V as q}from"./VCard-C8It3tDs.js";import{a as r,V as s}from"./VRow-D5QUgmxK.js";import{V as N}from"./VBtn-DEU8AXzn.js";import{_ as T}from"./RequestOrganizations-BYOGn7VT.js";import{_ as z}from"./CustomTag-DNZukCra.js";import{_ as I}from"./CustomDate-BvE_k-Ie.js";import{_ as w}from"./CustomPopulationType-qKzO5os5.js";import{_ as D}from"./CustomBundle-pHbbXnxx.js";import{V as R}from"./VTextField-CLSPMm7c.js";import{b as y}from"./route-block-B_A1xBdJ.js";import"./index-D0cxP7tL.js";import"./index-D0pvfY44.js";import"./importProcessor-8a6EwQZQ.js";import"./VAlert-BA1FNbYI.js";import"./VAvatar-Bm8XvpvO.js";import"./index-CqdMy8lr.js";import"./VImg-wiXIkP7s.js";import"./VList-wnBQ6eUC.js";import"./index-bmXFo_Al.js";import"./VCheckbox-CLjkCuK4.js";import"./VCheckboxBtn-B1hdxoeT.js";import"./VInput-CwTs2RKk.js";import"./VSpacer-D4hnwTqC.js";/* empty css              */import"./VDialog-DkfmLzLV.js";import"./VOverlay-uyg0Ioz0.js";import"./forwardRefs-D3j0TLhE.js";import"./dialog-transition-CdzLxCw9.js";import"./debouncer-Whu4ZLob.js";import"./VDataTableVirtual-BO58bCzO.js";import"./VDataTable-DS7yi-Dm.js";import"./VPagination-BBLVO-bG.js";import"./filter-5KaMYqe0.js";import"./VMenu-BAWQ3Wct.js";import"./VChip-BnTEbD1P.js";import"./group-BcbT0sDe.js";import"./VToolbar-Jw3O4Zrq.js";import"./VTooltip-CKohhaj7.js";import"./CustomMultipleBundle-D5JEGacT.js";import"./VContainer-rOsYQHyZ.js";import"./comlink-DRT95HA4.js";import"./VSystemBar-D2w16SNc.js";import"./CustomEntitySelector-DpN7aXCm.js";const S={name:"CashTable",props:{modelValue:{type:Object,default:()=>({})}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},disabled(){var e,t,u;return[this.model.date,this.model.bundleName,this.model.populationType,(e=this.model.organization)==null?void 0:e.name,(t=this.model.responsibleOrganization)==null?void 0:t.name,(u=this.model.fundedBy)==null?void 0:u.name].filter(Boolean).length!==6}},data(){return{dialog:!1}},methods:{setData(e){var t;(t=this.$refs)!=null&&t.assistanceTable&&this.$refs.assistanceTable.loadItems()}}},P={class:"text-h5 mb-2 offset-md1 black--text"};function j(e,t,u,$,_,a){const p=k;return g(),C(q,{class:"data-block pt-sm-4 pb-sm-4 block-cash-table",rounded:"0"},{default:l(()=>[o(U,null,{default:l(()=>[o(r,{class:"mb-4 mt-4"},{default:l(()=>[o(s,{cols:"12",md:"3",class:"pl-md-16"},{default:l(()=>[f("div",P,[b(e.$slots,"itemset-header",{},()=>[c(m(e.$t("Receivers")),1)])]),f("div",null,[b(e.$slots,"itemset-description",{},()=>[c(m(e.$t("Please indicate the basic information about the cash receivers")),1)])])]),_:3}),o(s,{cols:"12",md:"9",class:"pr-md-16 pt-0"},{default:l(()=>[o(r,null,{default:l(()=>[o(s,{cols:"12"},{default:l(()=>[o(N,{color:"primary",disabled:a.disabled,onClick:t[0]||(t[0]=d=>_.dialog=!0)},{default:l(()=>[c(m(e.$t("Import data")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:3})]),_:3}),o(p,{onImported:t[1]||(t[1]=d=>a.setData(d)),onClose:t[2]||(t[2]=d=>e.$router.push("/cash")),initialData:a.model,dialog:_.dialog},null,8,["initialData","dialog"])]),_:3})}const M=V(S,[["render",j]]),O=["Cash","Voucher"],A={name:"CashBasic",props:{modelValue:{type:Object,default:()=>({})}},mounted(){this.model.distributionModality="Cash"},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},distributionModalities(){return O},isUNHCR(){var e,t;return(t=(e=this.appStore.user)==null?void 0:e.organization)!=null&&t.name?/UNHCR/.exec(this.appStore.user.organization.name):!1}},methods:{resetBundle(){this.model.items=[]}}},F={class:"text-h5 mb-2 offset-md1 black--text"};function H(e,t,u,$,_,a){const p=D,d=w,h=I,n=z;return g(),C(q,{class:"pt-sm-4 pb-sm-4 pt-md-16 data-block block-cash-basic",rounded:"0"},{default:l(()=>[o(U,null,{default:l(()=>[o(r,{class:"mb-4 mt-4"},{default:l(()=>[o(s,{cols:"12",md:"3",class:"pl-md-16"},{default:l(()=>[f("div",F,[b(e.$slots,"itemset-header",{},()=>[c(m(e.$t("Basic information")),1)])]),f("div",null,[b(e.$slots,"itemset-description",{},()=>[c(m(e.$t("Please indicate the basic information about the cash distribution")),1)])])]),_:3}),o(s,{cols:"12",md:"9",class:"pr-md-16 pt-0"},{default:l(()=>[o(r,null,{default:l(()=>[o(s,{cols:"12"},{default:l(()=>[o(R,{modelValue:a.model.publicId,"onUpdate:modelValue":t[0]||(t[0]=i=>a.model.publicId=i),label:e.$t("Public ID"),id:"public_id",name:"PublicID",variant:"underlined","hide-details":""},null,8,["modelValue","label"])]),_:1}),o(s,{cols:"12"},{default:l(()=>[o(p,{modelValue:a.model.bundleName,"onUpdate:modelValue":[t[1]||(t[1]=i=>a.model.bundleName=i),a.resetBundle],filter:"Cash"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(s,{cols:"12",lg:"6"},{default:l(()=>[o(d,{modelValue:a.model.populationType,"onUpdate:modelValue":t[2]||(t[2]=i=>a.model.populationType=i),hint:e.$t("Indicate the major group of beneficiaries")},null,8,["modelValue","hint"])]),_:1}),o(s,{cols:"12",lg:"6"},{default:l(()=>[o(h,{modelValue:a.model.date,"onUpdate:modelValue":t[3]||(t[3]=i=>a.model.date=i),label:e.$t("Date of distribution"),hint:e.$t("Indicate the planned date"),"persistent-hint":""},null,8,["modelValue","label","hint"])]),_:1}),o(s,{cols:"12"},{default:l(()=>[o(n,{modelValue:a.model.tags,"onUpdate:modelValue":t[4]||(t[4]=i=>a.model.tags=i),label:e.$t("Tags"),entity:"requests"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:3})]),_:3})]),_:3})}const E=V(A,[["render",H]]),v={name:"request",inject:["$confirm","$error","$loading","$showResult"],mounted(){this.request.organization=this.appStore.user.organization},data:()=>({request:{distributionModality:"Cash",populationType:"IDPs",status:"Requested",organization:void 0,responsibleOrganization:void 0,fundedBy:void 0,date:void 0,address:{country:{name:"Ukraine",code2:"UA",code3:"UKR",code:"804"}}}}),computed:{title(){return this.appStore.breadcrumb="New cash intervention",this.$t("New cash intervention")}}},K={class:"report pa-2"},G={class:"text-h4 font-weight-bold"};function J(e,t,u,$,_,a){const p=E,d=T,h=M;return g(),B("div",K,[o(r,{class:"mb-0 mt-0"},{default:l(()=>[o(s,{cols:"12",md:"12",class:"mb-0 mt-0 pb-4 pt-0 pl-md-8 pr-md-8"},{default:l(()=>[f("div",G,m(a.title||e.$t("New request")),1)]),_:1})]),_:1}),o(r,{class:"mb-0 mt-0"},{default:l(()=>[o(s,{cols:"12",md:"12",class:"mb-0 mt-0 pb-0 pt-0 pl-md-8 pr-md-8"},{default:l(()=>[o(p,{modelValue:e.request,"onUpdate:modelValue":t[0]||(t[0]=n=>e.request=n)},null,8,["modelValue"]),o(d,{modelValue:e.request,"onUpdate:modelValue":t[1]||(t[1]=n=>e.request=n)},null,8,["modelValue"]),o(h,{modelValue:e.request,"onUpdate:modelValue":t[2]||(t[2]=n=>e.request=n)},null,8,["modelValue"])]),_:1})]),_:1})])}typeof y=="function"&&y(v);const Me=V(v,[["render",J]]);export{Me as default};
