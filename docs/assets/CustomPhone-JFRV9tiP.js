import{_ as g,ah as w,o,F as r,x as d,y as i,z as n,a as c,w as f,C as p,A as u,G as y,H as _,c as b,E as P,a8 as Y}from"./index-BYWsBYtF.js";import{V as k}from"./index-CqdMy8lr.js";import{V as B}from"./VTextField-CLSPMm7c.js";import{V as C}from"./VBtn-DEU8AXzn.js";const E=function(){return[e=>!e||e.length===19||this.$t("This is not a full phone number")]},N={name:"CustomPhone",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Phone number"},multiple:{type:Boolean,default:!1},mode:{type:String,default:"view"},showEmpty:{type:Boolean,default:!1},narrow:{type:Boolean,default:!1}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},validationRules:E},mounted(){!this.multiple&&!this.modelValue.length&&this.model.push("")},data(){return{options:{mask:"+38 (###) ### ## ##"},key:0}},methods:{addPhone(e){if(document.activeElement.tagName==="I")return this.removePhone(e);this.model.push(""),this.key++,this.$nextTick(()=>{let t=this.$refs.phones.querySelectorAll("input");t!=null&&t.length&&t[t.length-1].focus()})},removePhone(e){this.model.splice(e,1),this.key++},cleanPhone(e){return e?(typeof e=="object"&&(e=e[0]||""),e.replace(/[a-zа-яєіїґ ()-,.]/gi,"")):""}}},S={class:"phone"},A={class:"d-flex"},T={class:"mr-2"},z=["href"];function D(e,t,a,F,v,l){const V=w("maska");return o(),r("div",S,[d(n("div",null,[n("div",A,[n("div",T,[c(k,{left:""},{default:f(()=>t[0]||(t[0]=[p("mdi-phone")])),_:1})]),n("div",null,[d(n("div",{class:"mb-4"},u(e.$t("No phones are added.")),513),[[i,l.model.length===0]]),(o(!0),r(y,null,_([...l.model],m=>(o(),r("div",{key:m,class:"mb-2"},[n("a",{href:"tel:"+l.cleanPhone(m)},u(m),9,z)]))),128))])])],512),[[i,a.mode==="view"&&(l.model.length>0||a.showEmpty)]]),d((o(),r("div",{ref:"phones",key:v.key},[d(n("div",{class:"mb-4"},u(e.$t("You have not added any phone yet.")),513),[[i,l.model.length===0]]),(o(!0),r(y,null,_(l.model,(m,s)=>d((o(),b(B,{modelValue:l.model[s],"onUpdate:modelValue":h=>l.model[s]=h,rules:l.validationRules,"validate-on":"blur",key:"phone-"+s,label:a.label,"append-icon":l.model.length>1?"mdi-delete":"","onClick:append":h=>l.removePhone(s),onKeydown:P(h=>l.addPhone(s),["enter"]),placeholder:"+38 (XXX) YYYY YY YY",variant:"underlined"},null,8,["modelValue","onUpdate:modelValue","rules","label","append-icon","onClick:append","onKeydown"])),[[V,void 0,v.options]])),128)),d(c(C,{onClick:l.addPhone,small:a.narrow,class:Y(["mt-4",{"mb-4":a.narrow}])},{default:f(()=>[c(k,{left:""},{default:f(()=>t[1]||(t[1]=[p("mdi-plus")])),_:1}),p(" "+u(e.$t("Add phone")),1)]),_:1},8,["onClick","small","class"]),[[i,a.multiple]])])),[[i,a.mode==="edit"]])])}const U=g(N,[["render",D]]);export{U as _};
