import{_ as k}from"./ImportDialog-BEI359wz.js";import{_ as V,c as C,o as g,w as l,a as o,x as f,a8 as b,C as c,y as m,F as B}from"./index-BtIo2-Z_.js";import{a as U,V as q}from"./VCard-DNHZbZ5d.js";import{a as r,V as s}from"./VRow-9vAZildp.js";import{V as N}from"./VBtn--bGuKZaN.js";import{_ as T}from"./RequestOrganizations-C8WFb9r7.js";import{_ as I}from"./CustomTag-5aeppRFS.js";import{_ as w}from"./CustomDate-CLArRqjL.js";import{_ as z}from"./CustomPopulationType-DQPosMme.js";import{_ as D}from"./CustomBundle-HZg5QtVE.js";import{V as R}from"./VTextField-Bn35T3UG.js";import{b as y}from"./route-block-B_A1xBdJ.js";import"./index-CebfcyPH.js";import"./index-T2HRTWtS.js";import"./importProcessor-Cg8urtX2.js";import"./VProgressCircular-DNPB7izS.js";import"./index-SDX8Otz2.js";import"./VAlert-Or5Mzxjd.js";import"./VAvatar-l5UJO0sV.js";import"./VImg-FY_z5S7Z.js";import"./VList-Cnqqz-5U.js";import"./index-C5-hvfiu.js";import"./VCheckbox-Berrf7y1.js";import"./VCheckboxBtn-DQUGWCnj.js";import"./VInput-CRZE-Mt3.js";import"./VSpacer-bp7-SSB-.js";/* empty css              */import"./VDialog-CNptTdRK.js";import"./VOverlay-BnbjS8dz.js";import"./forwardRefs--KQCZfKO.js";import"./dialog-transition-Dq7CKyny.js";import"./debouncer-Whu4ZLob.js";import"./VDataTableVirtual-Cqes2yZi.js";import"./VDataTable-BrBBORsC.js";import"./VPagination-zp71F-1D.js";import"./filter-ahsWVyiP.js";import"./VMenu-Cs322VI3.js";import"./VChip-CKNl8kC9.js";import"./group-DgRBM2CV.js";import"./VTooltip-DXl_TsVy.js";import"./VToolbar-o4oksDe3.js";import"./CustomMultipleBundle-DHoJd0Qs.js";import"./VContainer-BFGIFtcM.js";import"./xlsx-CILBIiVl.js";import"./VSystemBar-Cr7lwDBT.js";import"./CustomEntitySelector-Kl7YJaGR.js";import"./VAutocomplete-BVJCf0KD.js";const S={name:"CashTable",props:{modelValue:{type:Object,default:()=>({})}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},disabled(){var e,t,u;return[this.model.date,this.model.bundleName,this.model.populationType,(e=this.model.organization)==null?void 0:e.name,(t=this.model.responsibleOrganization)==null?void 0:t.name,(u=this.model.fundedBy)==null?void 0:u.name].filter(Boolean).length!==6}},data(){return{dialog:!1}},methods:{setData(e){var t;(t=this.$refs)!=null&&t.assistanceTable&&this.$refs.assistanceTable.loadItems()}}},P={class:"text-h5 mb-2 offset-md1 black--text"};function j(e,t,u,$,_,a){const p=k;return g(),C(q,{class:"data-block pt-sm-4 pb-sm-4 block-cash-table",rounded:"0"},{default:l(()=>[o(U,null,{default:l(()=>[o(r,{class:"mb-4 mt-4"},{default:l(()=>[o(s,{cols:"12",md:"3",class:"pl-md-16"},{default:l(()=>[f("div",P,[b(e.$slots,"itemset-header",{},()=>[c(m(e.$t("Receivers")),1)])]),f("div",null,[b(e.$slots,"itemset-description",{},()=>[c(m(e.$t("Please indicate the basic information about the cash receivers")),1)])])]),_:3}),o(s,{cols:"12",md:"9",class:"pr-md-16 pt-0"},{default:l(()=>[o(r,null,{default:l(()=>[o(s,{cols:"12"},{default:l(()=>[o(N,{color:"primary",disabled:a.disabled,onClick:t[0]||(t[0]=d=>_.dialog=!0)},{default:l(()=>[c(m(e.$t("Import data")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:3})]),_:3}),o(p,{onImported:t[1]||(t[1]=d=>a.setData(d)),onClose:t[2]||(t[2]=d=>e.$router.push("/cash")),initialData:a.model,dialog:_.dialog},null,8,["initialData","dialog"])]),_:3})}const M=V(S,[["render",j]]),O=["Cash","Voucher"],F={name:"CashBasic",props:{modelValue:{type:Object,default:()=>({})}},mounted(){this.model.distributionModality="Cash"},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},distributionModalities(){return O},isUNHCR(){var e,t;return(t=(e=this.appStore.user)==null?void 0:e.organization)!=null&&t.name?/UNHCR/.exec(this.appStore.user.organization.name):!1}},methods:{resetBundle(){this.model.items=[]}}},H={class:"text-h5 mb-2 offset-md1 black--text"};function A(e,t,u,$,_,a){const p=D,d=z,h=w,n=I;return g(),C(q,{class:"pt-sm-4 pb-sm-4 pt-md-16 data-block block-cash-basic",rounded:"0"},{default:l(()=>[o(U,null,{default:l(()=>[o(r,{class:"mb-4 mt-4"},{default:l(()=>[o(s,{cols:"12",md:"3",class:"pl-md-16"},{default:l(()=>[f("div",H,[b(e.$slots,"itemset-header",{},()=>[c(m(e.$t("Basic information")),1)])]),f("div",null,[b(e.$slots,"itemset-description",{},()=>[c(m(e.$t("Please indicate the basic information about the cash distribution")),1)])])]),_:3}),o(s,{cols:"12",md:"9",class:"pr-md-16 pt-0"},{default:l(()=>[o(r,null,{default:l(()=>[o(s,{cols:"12"},{default:l(()=>[o(R,{modelValue:a.model.publicId,"onUpdate:modelValue":t[0]||(t[0]=i=>a.model.publicId=i),label:e.$t("Public ID"),id:"public_id",name:"PublicID",variant:"underlined","hide-details":""},null,8,["modelValue","label"])]),_:1}),o(s,{cols:"12"},{default:l(()=>[o(p,{modelValue:a.model.bundleName,"onUpdate:modelValue":[t[1]||(t[1]=i=>a.model.bundleName=i),a.resetBundle],filter:"Cash"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(s,{cols:"12",lg:"6"},{default:l(()=>[o(d,{modelValue:a.model.populationType,"onUpdate:modelValue":t[2]||(t[2]=i=>a.model.populationType=i),hint:e.$t("Indicate the major group of beneficiaries")},null,8,["modelValue","hint"])]),_:1}),o(s,{cols:"12",lg:"6"},{default:l(()=>[o(h,{modelValue:a.model.date,"onUpdate:modelValue":t[3]||(t[3]=i=>a.model.date=i),label:e.$t("Date of distribution"),hint:e.$t("Indicate the planned date"),"persistent-hint":""},null,8,["modelValue","label","hint"])]),_:1}),o(s,{cols:"12"},{default:l(()=>[o(n,{modelValue:a.model.tags,"onUpdate:modelValue":t[4]||(t[4]=i=>a.model.tags=i),label:e.$t("Tags"),entity:"requests"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:3})]),_:3})]),_:3})}const E=V(F,[["render",A]]),v={name:"request",inject:["$confirm","$error","$loading","$showResult"],mounted(){this.request.organization=this.appStore.user.organization},data:()=>({request:{distributionModality:"Cash",populationType:"IDPs",status:"Requested",organization:void 0,responsibleOrganization:void 0,fundedBy:void 0,date:void 0,address:{country:{name:"Ukraine",code2:"UA",code3:"UKR",code:"804"}}}}),computed:{title(){return this.appStore.breadcrumb="New cash intervention",this.$t("New cash intervention")}}},K={class:"report pa-2"},G={class:"text-h4 font-weight-bold"};function J(e,t,u,$,_,a){const p=E,d=T,h=M;return g(),B("div",K,[o(r,{class:"mb-0 mt-0"},{default:l(()=>[o(s,{cols:"12",md:"12",class:"mb-0 mt-0 pb-4 pt-0 pl-md-8 pr-md-8"},{default:l(()=>[f("div",G,m(a.title||e.$t("New request")),1)]),_:1})]),_:1}),o(r,{class:"mb-0 mt-0"},{default:l(()=>[o(s,{cols:"12",md:"12",class:"mb-0 mt-0 pb-0 pt-0 pl-md-8 pr-md-8"},{default:l(()=>[o(p,{modelValue:e.request,"onUpdate:modelValue":t[0]||(t[0]=n=>e.request=n)},null,8,["modelValue"]),o(d,{modelValue:e.request,"onUpdate:modelValue":t[1]||(t[1]=n=>e.request=n)},null,8,["modelValue"]),o(h,{modelValue:e.request,"onUpdate:modelValue":t[2]||(t[2]=n=>e.request=n)},null,8,["modelValue"])]),_:1})]),_:1})])}typeof y=="function"&&y(v);const Fe=V(v,[["render",J]]);export{Fe as default};
