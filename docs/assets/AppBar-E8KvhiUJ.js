import{a2 as c,a4 as e,a1 as $,a3 as d,a6 as l,u as o,W as r,Q as h,a7 as v,S as f,Y as n}from"./@vue-CVhpfiSJ.js";import{_ as P}from"./index-Dr3A69Vy.js";import{d as k,e as _,f as g,g as N,h as y,i as I,j as A,k as S}from"./vuetify-8yKwgmF2.js";/* empty css             */import"./pinia-DJQ_g8GY.js";import"./pinia-plugin-persistedstate-Bx52SgID.js";import"./destr-BPvN1X9m.js";import"./deep-pick-omit-CegYQlcN.js";import"./pinia-shared-state-C4xqZbDc.js";import"./broadcast-channel-TeH36tNo.js";import"./oblivious-set-DL5W-sud.js";import"./dexie-DU0pVwlp.js";import"./@turf-BykKS3Vs.js";import"./@azure-suSn7m2_.js";import"./bson-objectid-DhxNlv_d.js";import"./joi-BOBjTjze.js";import"./comlink-B8fJUUNV.js";import"./vue-i18n-rpOKKwMw.js";import"./@intlify-DAAxr81y.js";import"./axios-xsH4HHeE.js";import"./md5-Ct8Y5Pza.js";import"./crypt-VTvMai_Y.js";import"./charenc-DuOFFKym.js";import"./is-buffer-DMJNLjvk.js";import"./uuid-C6aID195.js";import"./dot-object-sCKibp8s.js";import"./jszip-B9I6jZYU.js";import"./echarts-B3RPNoSA.js";import"./zrender-BxIUiisS.js";import"./@faker-js-9AjqWMS-.js";import"./jwt-decode-VWaDGczM.js";import"./vue-router-V8rnRB0-.js";import"./maska-DMix1GTA.js";var s={FRONT_HOST:"https://raisplus-test.unhcr.in.ua",APP_NAME:"rais-plus",APP_SHORTNAME:"RAIS+",APP_DEFAULT_THEME:"gsc"};const T={computed:{logo(){return`/themes/${this.$vuetify.theme.global.name}/logo-white.svg`},shortName(){return s.APP_SHORTNAME}},beforeMount(){const{theme:t}=this.$route.query;if(t)localStorage.setItem(`${s.APP_NAME}_theme`,t),this.$vuetify.theme.global.name=t;else{let a=localStorage.getItem(`${s.APP_NAME}_theme`);this.$vuetify.theme.global.name=a||s.APP_DEFAULT_THEME}},methods:{setLocale(t){this.appStore.locale=t,this.$i18n.locale=t},async logout(){var p,m;await this.$api.auth.logout(),await this.$msal.initialize();const t=(m=(p=this.appStore)==null?void 0:p.account)==null?void 0:m.homeAccountId;this.appStore.setAccount(void 0);const a={account:this.$msal.getAccountByHomeId(t),mainWindowRedirectUri:s.FRONT_HOST};await this.$msal.logoutPopup(a)}}},w={class:"d-flex align-center"},E={class:"hidden-sm-and-down pl-2 ml-2 cursor-pointer",style:{"border-left":"1px solid #FFF","font-size":"120%"}},V={class:"mr-4 hidden-sm-and-down"};function L(t,a,p,m,M,i){const u=$("router-link");return d(),c(k,{app:"",dark:"",color:"primary",density:"compact",class:"position-fixed"},{append:e(()=>[h(o(g,{class:"mr-2"},{default:e(()=>[l("span",V,r(t.appStore.username),1),o(N,{size:"30px",color:"grey lighten-3"},{default:e(()=>[t.appStore.userImage?(d(),c(_,{key:0,alt:"User Image",src:t.appStore.userImage},null,8,["src"])):v("",!0),h(l("span",{class:"text-h6 primary--text"},r(t.appStore.initials),513),[[f,!t.appStore.userImage]])]),_:1}),o(y,{activator:"parent"},{default:e(()=>[o(I,null,{default:e(()=>[o(A,{"router-link":"",to:"/users/me"},{default:e(()=>[o(S,null,{default:e(()=>[n(r(t.$t("Edit user")),1)]),_:1})]),_:1}),o(A,{onClick:i.logout},{default:e(()=>[o(S,null,{default:e(()=>[n(r(t.$t("Logout")),1)]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512),[[f,t.appStore.username]]),o(g,{color:"white",variant:"tonal",onClick:a[0]||(a[0]=H=>i.setLocale(t.$i18n.locale==="en"?"uk":"en"))},{default:e(()=>[n(r(t.$i18n.locale),1)]),_:1})]),default:e(()=>[l("div",w,[o(u,{to:"/",tag:"a"},{default:e(()=>[o(_,{"router-link":"",alt:"UNHCR Logo",class:"shrink ml-2 mr-2 cursor-pointer",contain:"",src:i.logo,height:"34",width:"150"},null,8,["src"])]),_:1}),o(u,{to:"/",tag:"a"},{default:e(()=>[l("div",E,r(t.$t(i.shortName)),1)]),_:1})])]),_:1})}const dt=P(T,[["render",L]]);export{dt as default};
