import{_ as g,ak as w,F as r,o as n,z as d,B as i,x as o,a as c,w as f,C as p,y as u,G as y,H as _,c as b,E as P,ac as B}from"./index-BtIo2-Z_.js";import{V as k}from"./index-SDX8Otz2.js";import{V as Y}from"./VTextField-Bn35T3UG.js";import{V as C}from"./VBtn--bGuKZaN.js";const E=function(){return[e=>!e||e.length===19||this.$t("This is not a full phone number")]},N={name:"CustomPhone",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Phone number"},multiple:{type:Boolean,default:!1},mode:{type:String,default:"view"},showEmpty:{type:Boolean,default:!1},narrow:{type:Boolean,default:!1}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},validationRules:E},mounted(){!this.multiple&&!this.modelValue.length&&this.model.push("")},data(){return{options:{mask:"+38 (###) ### ## ##"},key:0}},methods:{addPhone(e){if(document.activeElement.tagName==="I")return this.removePhone(e);this.model.push(""),this.key++,this.$nextTick(()=>{let t=this.$refs.phones.querySelectorAll("input");t!=null&&t.length&&t[t.length-1].focus()})},removePhone(e){this.model.splice(e,1),this.key++},cleanPhone(e){return e?(typeof e=="object"&&(e=e[0]||""),e.replace(/[a-zа-яєіїґ ()-,.]/gi,"")):""}}},S={class:"phone"},T={class:"d-flex"},z={class:"mr-2"},A=["href"];function D(e,t,a,F,v,l){const V=w("maska");return n(),r("div",S,[d(o("div",null,[o("div",T,[o("div",z,[c(k,{left:""},{default:f(()=>t[0]||(t[0]=[p("mdi-phone")])),_:1})]),o("div",null,[d(o("div",{class:"mb-4"},u(e.$t("No phones are added.")),513),[[i,l.model.length===0]]),(n(!0),r(y,null,_([...l.model],m=>(n(),r("div",{key:m,class:"mb-2"},[o("a",{href:"tel:"+l.cleanPhone(m)},u(m),9,A)]))),128))])])],512),[[i,a.mode==="view"&&(l.model.length>0||a.showEmpty)]]),d((n(),r("div",{ref:"phones",key:v.key},[d(o("div",{class:"mb-4"},u(e.$t("You have not added any phone yet.")),513),[[i,l.model.length===0]]),(n(!0),r(y,null,_(l.model,(m,s)=>d((n(),b(Y,{modelValue:l.model[s],"onUpdate:modelValue":h=>l.model[s]=h,rules:l.validationRules,"validate-on":"blur",key:"phone-"+s,label:a.label,"append-icon":l.model.length>1?"mdi-delete":"","onClick:append":h=>l.removePhone(s),onKeydown:P(h=>l.addPhone(s),["enter"]),placeholder:"+38 (XXX) YYYY YY YY",variant:"underlined"},null,8,["modelValue","onUpdate:modelValue","rules","label","append-icon","onClick:append","onKeydown"])),[[V,void 0,v.options]])),128)),d(c(C,{onClick:l.addPhone,small:a.narrow,class:B(["mt-4",{"mb-4":a.narrow}])},{default:f(()=>[c(k,{left:""},{default:f(()=>t[1]||(t[1]=[p("mdi-plus")])),_:1}),p(" "+u(e.$t("Add phone")),1)]),_:1},8,["onClick","small","class"]),[[i,a.multiple]])])),[[i,a.mode==="edit"]])])}const U=g(N,[["render",D]]);export{U as _};
