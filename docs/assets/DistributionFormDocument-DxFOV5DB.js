import{S as K}from"./signature_pad-De9feHul.js";import{a9 as V,a3 as f,Q as g,a7 as $,S as b,a6 as s,ab as D,u as a,a4 as i,Y as k,t as X,a2 as w,W as d,F as N,aa as T,R as j}from"./@vue-CVhpfiSJ.js";import{_ as F,h as R,b as Z,n as ee,q as C,r as P}from"./index-Dr3A69Vy.js";import{n as U,f as M,z as h,Q as O,A as _,$ as H,l as te,m as le,g as ae,D as se,I,a0 as ne,_ as ie,C as de,a1 as G,R as B}from"./vuetify-8yKwgmF2.js";import{_ as W}from"./CustomDate-CfhxorUI.js";import{_ as E}from"./CustomGender-NBBuUwfP.js";import{p as q}from"./index-1qao1M8l.js";import{_ as oe,a as re}from"./CustomTextFieldTranslit-_r0XMlwr.js";import{_ as ue}from"./CustomPhone-XOzdDG_n.js";import{a as me}from"./data-BbwszT0d.js";import{_ as ce}from"./CustomTag-Dg3cr3e-.js";import{_ as he}from"./CustomPopulationType-CM50j2Gz.js";import{v as L}from"./uuid-C6aID195.js";const pe={name:"Signature",props:{modelValue:{type:Array,default:()=>[]},mode:{type:String,default:"view"},width:{type:Number,default:400}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},mounted(){const e=this.$refs.pad;let t=new K(e,{});if(this.signaturePad=X(t),this.mode==="edit"&&window.addEventListener("resize",this.resizeCanvas),this.mode==="view")return setTimeout(()=>(this.signaturePad.fromData(this.model),this.render()),0),!1;if(this.resizeCanvas(),this.model&&this.model.length)return this.signaturePad.fromData(this.model),this.render()},data(){return{signaturePad:null,svg:"",fullscreen:!1,currentMode:"edit"}},methods:{resizeCanvas(){const e=this.$refs.pad,t=Math.max(window.devicePixelRatio||1,1);if(!e)return!1;e.width=e.offsetWidth*t,e.height=e.offsetHeight*t,e.getContext("2d").scale(t,t),this.signaturePad.fromData(this.signaturePad.toData())},clear(){this.model=[],this.svg="",this.signaturePad.clear(),this.currentMode="edit"},render(){setTimeout(()=>{this.svg=this.signaturePad.toDataURL()},100)},save(){this.svg=this.signaturePad.toDataURL("image/svg+xml"),this.model=this.signaturePad.toData(),this.fullscreen&&document.exitFullscreen(),this.fullscreen=!1,this.currentMode="view"},setFullscreen(){try{if(this.fullscreen)return this.fullscreen=!1,document.exitFullscreen();this.$refs.mainSignature.requestFullscreen(),this.fullscreen=!0,this.resizeCanvas()}catch(e){alert(e,"Fullscreen API is disabled")}}},beforeDestroy(){this.mode==="edit"&&window.removeEventListener("resize",this.handleResize),this.signaturePad.off()}},fe={ref:"mainSignature"},ge=["src"],be={class:"signature-pad--body"},ye={ref:"pad"};function _e(e,t,o,p,n,l){return f(),V("div",fe,[g(s("div",null,[s("img",{src:this.svg,style:D([{width:o.width+"px"},{"max-width":"100%","aspect-ratio":"1.6"}])},null,12,ge)],512),[[b,o.mode==="view"||n.currentMode==="view"]]),g(s("div",{class:"signature-pad",style:D([{"aspect-ratio":"1.6"},{maxWidth:o.width+"px"}])},[s("div",be,[s("canvas",ye,null,512)])],4),[[b,o.mode==="edit"&&n.currentMode==="edit"]]),o.mode==="edit"?(f(),V("div",{key:0,class:"d-flex signature-buttons flex-grow-1",style:D({maxWidth:o.width+"px"})},[a(M,{onClick:l.clear,class:"flex-grow-1",variant:"tonal",density:"comfortable",rounded:"0",color:"grey-darken-4"},{default:i(()=>[a(U,null,{default:i(()=>t[0]||(t[0]=[k("mdi-delete")])),_:1})]),_:1},8,["onClick"]),g(a(M,{onClick:l.setFullscreen,class:"flex-grow-1",variant:"tonal",density:"comfortable",rounded:"0",color:"grey-darken-4"},{default:i(()=>[a(U,null,{default:i(()=>t[1]||(t[1]=[k("mdi-fullscreen")])),_:1})]),_:1},8,["onClick"]),[[b,n.currentMode==="edit"]]),g(a(M,{onClick:l.save,class:"flex-grow-1",variant:"tonal",density:"comfortable",rounded:"0",color:"grey-darken-4"},{default:i(()=>[a(U,null,{default:i(()=>t[2]||(t[2]=[k("mdi-check")])),_:1})]),_:1},8,["onClick"]),[[b,n.currentMode==="edit"]])],4)):$("",!0)],512)}const gl=F(pe,[["render",_e]]),ve=[{name:"Child or Adolescent at Risk",code:"CR",gender:["Male","Female"],age:["children"]},{name:"Unaccompanied or Separated Child",code:"SC",gender:["Male","Female"],age:["children"]},{name:"Woman at Risk",code:"WR",gender:["Female"],age:["adult","senior"]},{name:"Older Person at Risk",code:"ER",gender:["Male","Female"],age:["senior"]},{name:"Single Parent or care giver",code:"SP",gender:["Male","Female"],age:["adult","senior"]},{name:"Disability",code:"DS",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Serious medical condition",code:"SM",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Family unity",code:"FU",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Specific legal and physical protection needs",code:"LP",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Torture",code:"TR",gender:["Male","Female"],age:["children","adult","senior"]},{name:"GBV",code:"SV",gender:["Male","Female"],age:["children","adult","senior"]},{name:"N/A",code:"NA",gender:["Male","Female"],age:["children","adult","senior"]}],z={CR:[{name:"Child associated with armed forces or groups",gender:["Male","Female"],age:["children"]},{name:"Child career",gender:["Male","Female"],age:["children"]},{name:"Child engaged in child labor",gender:["Male","Female"],age:["children"]},{name:"Child parent or child spouse",gender:["Male","Female"],age:["children"]},{name:"Child with special education needs",gender:["Male","Female"],age:["children"]},{name:"Teenage pregnancy",gender:["Female"],age:["children"]}],SC:[{name:"Unaccompanied children",gender:["Male","Female"],age:["children"]},{name:"Separated children",gender:["Male","Female"],age:["children"]}],WR:[{name:"Single mothers or caregivers",gender:["Female"],age:["adult","senior"]},{name:"Single women",gender:["Female"],age:["adult","senior"]},{name:"Widows",gender:["Female"],age:["adult","senior"]},{name:"Older women",gender:["Female"],age:["senior"]},{name:"Women with disabilities",gender:["Female"],age:["children","adult","senior"]},{name:"Survivors of violence",gender:["Female"],age:["children","adult","senior"]}],ER:[{name:"Older person unable to care for self",gender:["Male","Female"],age:["senior"]},{name:"Older person with children",gender:["Male","Female"],age:["senior"]},{name:"Single older person",gender:["Male","Female"],age:["senior"]}],SP:[{name:"Caregiver",gender:["Male","Female"],age:["adult","senior"]},{name:"Grandparent",gender:["Male","Female"],age:["senior"]},{name:"Parent",gender:["Male","Female"],age:["children","adult"]}],DS:[{name:"Physical impairments",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Mental impairments",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Intellectual impairments",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Sensory impairments",gender:["Male","Female"],age:["children","adult","senior"]}],SM:[{name:"Chronic illness",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Critical medical condition",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Difficult pregnancy",gender:["Female"],age:["children","adult","senior"]},{name:"Malnutrition",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Other serious medical condition",gender:["Male","Female"],age:["children","adult","senior"]}],FU:[{name:"Family reunification is required",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Support with tracing family members is required",gender:["Male","Female"],age:["children","adult","senior"]}],LP:[{name:"No legal documentation",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Marginalized from society",gender:["Male","Female"],age:["children","adult","senior"]},{name:"At risk due to profile",gender:["Male","Female"],age:["children","adult","senior"]},{name:"At risk of removal",gender:["Male","Female"],age:["children","adult","senior"]},{name:"No access to services",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Violence, abuse or neglect",gender:["Male","Female"],age:["children","adult","senior"]}],TR:[{name:"Severe physical pain",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Severe mental pain",gender:["Male","Female"],age:["children","adult","senior"]}],SV:[{name:"Physical harm",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Sexual harm",gender:["Male","Female"],age:["children","adult","senior"]},{name:"Psychological harm",gender:["Male","Female"],age:["children","adult","senior"]}]},Ve=e=>{if(!(typeof e>"u"))return e<18?"children":e<60?"adult":"senior"},ke={name:"CustomVulnerability",props:{modelValue:{type:Object},mode:{type:String,default:"view"},gender:{type:String},age:{type:Number}},computed:{ageGroup(){if(!(!this.age||typeof this.age!="number"))return Ve(this.age)},model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},vulnerabilities(){let e=ve;return this.ageGroup&&(e=e.filter(t=>t.age.includes(this.ageGroup))),this.gender&&(e=e.filter(t=>t.gender.includes(this.gender))),e.map(({name:t,code:o})=>({name:t,code:o}))},criterias(){if(!z[this.model.code])return[];let e=z[this.model.code];return this.ageGroup&&(e=e.filter(t=>t.age.includes(this.ageGroup))),this.gender&&(e=e.filter(t=>t.gender.includes(this.gender))),e.map(t=>t.name)}}},Ie={class:"custom-vulnerability mt-2"};function $e(e,t,o,p,n,l){return f(),V("div",Ie,[g(s("div",null,null,512),[[b,o.mode==="view"]]),g(s("div",null,[a(_,{class:"vulnerability"},{default:i(()=>{var r;return[a(h,{cols:"12"},{default:i(()=>[a(O,{modelValue:l.model,"onUpdate:modelValue":t[0]||(t[0]=m=>l.model=m),label:e.$t("Vulnerability"),items:l.vulnerabilities,"item-title":m=>m.name?e.$t(m.name):"","item-value":m=>m,variant:"underlined","return-object":"","hide-details":"",clearable:""},null,8,["modelValue","label","items","item-title","item-value"])]),_:1}),(r=l.model)!=null&&r.name?(f(),w(h,{key:0,cols:"12"},{default:i(()=>[a(O,{modelValue:l.model.vulnerabilitySpecified,"onUpdate:modelValue":t[1]||(t[1]=m=>l.model.vulnerabilitySpecified=m),label:e.$t("Vulnerability Specification"),items:l.criterias,"item-title":m=>m?e.$t(m):"","item-value":m=>m,"hide-details":"",variant:"underlined",clearable:""},null,8,["modelValue","label","items","item-title","item-value"])]),_:1})):$("",!0)]}),_:1})],512),[[b,o.mode==="edit"]])])}const Y=F(ke,[["render",$e]]),we={props:{modelValue:{type:Object,default:()=>({})}},mounted(){this.onLine=window.navigator.onLine},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},data(){return{onLine:!0}}},Fe={class:"d-flex"},Ae={class:"bg-blue-grey-lighten-1 pa-2"},Me={class:"bg-blue-grey-lighten-5 pa-4 flex-grow-1"},Se={class:"text-h6 mt-4"},Ue={class:"mt-2"},Ce={class:"text-red-darken-1"},De={class:"mb-6 mt-2"},Ne={class:"mt-2"},Te={class:"text-red-darken-1"},xe={class:"mt-2 mb-2"},Re={key:0,class:"mt-2 mb-2"},Pe={key:1,class:"mt-2 mb-2"},Oe={key:2,class:"mt-2 mb-2"},Be={key:3,class:"mt-2 mb-2"},Le={class:"mt-2 mb-2"},ze={key:4,class:"mt-2 mb-2"},je={class:"ml-6"},He={key:5,class:"mt-2 mb-2"};function Ge(e,t,o,p,n,l){return f(),w(h,{cols:"12",class:"mt-0 pt-0"},{default:i(()=>[l.model.result!=="success"?(f(),w(H,{key:0,text:e.$t(l.model.message),type:l.model.result,closable:""},null,8,["text","type"])):$("",!0),l.model.result==="success"?(f(),w(te,{key:1},{default:i(()=>[a(le,{class:"pa-0"},{default:i(()=>[s("div",Fe,[s("div",Ae,[a(ae,{size:"56",color:"blue-grey-lighten-3"},{default:i(()=>[a(U,{size:"x-large",icon:l.model.gender==="Male"?"mdi-human-male":"mdi-human-female"},null,8,["icon"])]),_:1})]),s("div",Me,[s("div",null,[s("strong",null,d(e.$t("Gender"))+":",1),k(" "+d(e.$t(l.model.gender)),1)]),s("div",null,[s("strong",null,d(e.$t("Birthday"))+":",1),k(" "+d(l.model.birthday),1)]),s("div",null,[s("strong",null,d(e.$t("Current age"))+":",1),k(" "+d(l.model.age),1)]),s("div",Se,d(e.$t("Deduplication results")),1),g(a(se,{class:"bg-blue-grey-lighten-5",type:"article"},null,512),[[b,!l.model.duplicates]]),g(s("div",null,[s("div",null,d(e.$t("This person hasn't received any humanitarian support")),1),g(s("div",Ue,[s("strong",Ce,d(e.$t("Result can be incomplete, because you're offline!")),1)],512),[[b,!n.onLine]])],512),[[b,l.model.duplicates&&l.model.duplicates.length===0]]),g(s("div",null,[s("div",De,[s("div",null,[s("strong",null,d(e.$t("This person has already received the support from humanitarian organizations")),1)]),g(s("div",Ne,[s("strong",Te,d(e.$t("Result can be incomplete, because you're offline!")),1)],512),[[b,!n.onLine]])]),(f(!0),V(N,null,T(l.model.duplicates,r=>{var m,v,c,S,u;return f(),V("div",{key:r._id,class:"mb-7 pl-2",style:{"border-left":"2px solid #039BE5"}},[s("div",xe,[s("strong",null,d(e.$t("Date"))+":",1),k(" "+d(new Date(r.date).toLocaleDateString("uk")),1)]),r.bundleName?(f(),V("div",Re,[s("strong",null,d(e.$t("Assistance type"))+":",1),k(" "+d(e.$t(r.bundleName)),1)])):$("",!0),(m=r.address)!=null&&m.pCode1?(f(),V("div",Pe,[s("strong",null,d(e.$t("Oblast"))+":",1),k(" "+d(e.$t(r.address.pCode1)),1)])):$("",!0),(v=r.address)!=null&&v.pCode2?(f(),V("div",Oe,[s("strong",null,d(e.$t("Raion"))+":",1),k(" "+d(e.$t(r.address.pCode2)),1)])):$("",!0),(c=r.address)!=null&&c.pCode4?(f(),V("div",Be,[s("strong",null,d(e.$t("Locality"))+":",1),k(" "+d(e.$t(r.address.pCode4)),1)])):$("",!0),s("div",Le,[s("strong",null,d(e.$t("Organization"))+":",1),k(" "+d((S=r.organization)==null?void 0:S.name),1)]),(u=r.items)!=null&&u.length?(f(),V("div",ze,[s("div",null,[s("strong",null,d(e.$t("Items"))+":",1)]),s("ul",je,[(f(!0),V(N,null,T(r.items,y=>g((f(),V("li",null,d(e.$t(y.key))+": "+d(y.value),513)),[[b,y.value]])),256))])])):$("",!0),r.value?(f(),V("div",He,[s("strong",null,d(e.$t("Value"))+":",1),k(" "+d(r.value?r.value.toLocaleString("uk-UA",{style:"currency",currency:r.currency||"USD"}):""),1)])):$("",!0)])}),128))],512),[[b,l.model.duplicates&&l.model.duplicates.length]])])])]),_:1})]),_:1})):$("",!0)]),_:1})}const J=F(we,[["render",Ge]]),We=()=>({mask:"AAAAAAAAAA",tokens:{A:{pattern:/\d/}}}),Ee=function(){return[e=>!e||e.length===10||this.$t("Tax ID must contain 10 characters"),e=>!e||/^\d+$/.test(e)||this.$t("Tax ID must contain only the numbers"),e=>{if(!e||e==="0000000000")return!0;let{result:t}=R(e);return t==="success"||this.$t("This tax ID is invalid")}]},qe={name:"CustomTaxId",props:{modelValue:{type:String}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},validationRules:Ee,options:We}};function Ye(e,t,o,p,n,l){const r=j("maska");return g((f(),w(I,{modelValue:l.model,"onUpdate:modelValue":t[0]||(t[0]=m=>l.model=m),label:e.$t("Tax ID"),rules:l.validationRules,hint:l.model==="0000000000"?e.$t("This person has no documents"):"",placeholder:"1234567890",class:"tax-id","validate-on":"blur",clearable:"",name:"taxId",variant:"underlined"},null,8,["modelValue","label","rules","hint"])),[[r,void 0,l.options]])}const Q=F(qe,[["render",Ye]]),{people:x}=q,Je=(e,t)=>{const o=["boys","men","seniorMen"].includes(e)?"Male":"Female";let p;["boys","girls"].includes(e)&&(p=new Date(new Date().getFullYear(),0,1)),["men","women"].includes(e)&&(p=new Date(new Date().getFullYear()-18,0,1)),p||(p=new Date(new Date().getFullYear()-61,0,1));const n=new Date().getTimezoneOffset()*6e4;p=new Date(new Date(p).getTime()-n).toISOString().substring(0,10);const l=x.calculateAge({birthday:p,date:t});return{gender:o,birthday:p,age:l}},Qe={name:"FamilyMember",props:{modelValue:{type:Object},date:{type:[Date,String],default:new Date},hh:{type:Object},allowSimplified:{type:Boolean}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},data(){return{simplified:!1,results:[],groups:{boys:0,girls:0,men:0,women:0,seniorMen:0,seniorWomen:0,disabled:0}}},methods:{async checkIPN(e){if(!e)return{result:"error",message:"Tax ID must contain 10 numbers"};if(!e.match(/^\d{10}$/))return{result:"error",message:"Tax ID must contain 10 numbers"};let t=R(e);return t.result==="warning"?{result:"warning",message:"This tax ID is invalid"}:t},async checkTaxId(e,t){if(!t)return!1;const o=await this.checkIPN(t);if(!o.result==="success")return this.results[e]=o,!1;o.age=x.calculateAge({birthday:o.birthday,date:this.date}),Object.assign(this.model[e],C(o));const{assistances:p}=this.$storage;let n=p.useIndex("peopleIds").include(["bundleName","organization","items","strings","address","date","familyMembers"]).filter({peopleIds:t}).sort("date");return n=await n.find(),n=n.count?n.items:[],o.duplicates=n,this.results[e]=o},addFamilyMember(){if(!this.model)return this.model=[{}];this.model.push({})},addSimple(e){const t=(parseInt(this.groups[e])||0)+1;this.recalculateSimple(e,t)},recalculateSimple(e,t){var m,v;this.groups[e]=parseInt(t);const o=JSON.parse(JSON.stringify(this.groups)),p=ee(this.hh),n=((v=(m=this.hh)==null?void 0:m.vulnerability)==null?void 0:v.code)==="DS"?1:0;parseInt(o[p])>0&&(o[p]=o[p]-1),n&&parseInt(o.disabled)>0&&(o.disabled=parseInt(o.disabled)-1);const l=["seniorMen","seniorWomen","men","women","boys","girls"],r=[];for(const c of l){if(parseInt(o[c])<1){o[c]=0;continue}r.push(...Array(parseInt(o[c])||0).fill(Je(c,this.date)))}for(let c=0;c<parseInt(o.disabled||0);c++)r[c]&&(r[c].vulnerability={name:"Disability",code:"DS"});this.model=r},calculateAge(e,t){this.model[e].age=x.calculateAge({birthday:t,date:this.date})}},watch:{simplified(){this.groups=Z([this.hh,...this.model])}}},Ke={class:"text-h5 mb-2 offset-md1 black--text"},Xe={class:"mb-0"},Ze={class:"pl-2 text-left"},et={class:"text-left"},tt={class:"non-selectable"},lt={style:{width:"30%",cursor:"pointer"},class:"pt-2 pb-2"},at={class:"non-selectable"},st={style:{width:"30%",cursor:"pointer"},class:"pt-2 pb-2"},nt={class:"non-selectable"},it={style:{width:"30%",cursor:"pointer"},class:"pt-2 pb-2"},dt={class:"non-selectable"},ot={style:{width:"30%",cursor:"pointer"},class:"pt-2 pb-2"},rt={class:"non-selectable"},ut={style:{width:"30%",cursor:"pointer"},class:"pt-2 pb-2"},mt={class:"non-selectable"},ct={style:{width:"30%",cursor:"pointer"},class:"pt-2 pb-2"},ht={class:"non-selectable"},pt={style:{width:"30%",cursor:"pointer"},class:"pt-2 pb-2"},ft={class:"text-h6 mt-4 mb-2"};function gt(e,t,o,p,n,l){const r=Q,m=J,v=E,c=W,S=Y;return f(),V("div",null,[a(_,{class:"mb-0 mt-2 pb-0"},{default:i(()=>[a(h,{cols:"12",class:"mb-0 pb-0"},{default:i(()=>[s("div",Ke,d(e.$t("Family members")),1),s("div",Xe,d(e.$t("Indicate basic information about the family members")),1)]),_:1})]),_:1}),a(_,{class:"mb-0 mt-0"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[g(a(ne,{modelValue:n.simplified,"onUpdate:modelValue":t[0]||(t[0]=u=>n.simplified=u),color:"primary",density:"compact",label:e.$t("Simplified data collection"),"hide-details":""},null,8,["modelValue","label"]),[[b,o.allowSimplified]])]),_:1})]),_:1}),n.simplified&&o.hh?(f(),w(_,{key:0,class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[a(ie,{density:"compact"},{default:i(()=>[s("thead",null,[s("tr",null,[s("th",Ze,d(e.$t("Group")),1),s("th",et,d(e.$t("Number")),1)])]),s("tbody",null,[s("tr",null,[s("td",{class:"pl-2 text-left",onClick:t[1]||(t[1]=u=>l.addSimple("boys")),style:{width:"70%",cursor:"pointer"}},[s("div",tt,d(e.$t("Male, <18")),1)]),s("td",lt,[a(I,{"model-value":n.groups.boys,onBlur:t[2]||(t[2]=u=>l.recalculateSimple("boys",u.target.value)),type:"number",inputmode:"numeric",density:"compact",variant:"outlined","hide-details":""},null,8,["model-value"])])]),s("tr",null,[s("td",{class:"pl-2 text-left",onClick:t[3]||(t[3]=u=>l.addSimple("girls")),style:{width:"70%",cursor:"pointer"}},[s("div",at,d(e.$t("Female, <18")),1)]),s("td",st,[a(I,{"model-value":n.groups.girls,onBlur:t[4]||(t[4]=u=>l.recalculateSimple("girls",u.target.value)),type:"number",inputmode:"numeric",density:"compact",variant:"outlined","hide-details":""},null,8,["model-value"])])]),s("tr",null,[s("td",{class:"pl-2 text-left",onClick:t[5]||(t[5]=u=>l.addSimple("men")),style:{width:"70%",cursor:"pointer"}},[s("div",nt,d(e.$t("Male, 18-60")),1)]),s("td",it,[a(I,{"model-value":n.groups.men,onBlur:t[6]||(t[6]=u=>l.recalculateSimple("men",u.target.value)),type:"number",inputmode:"numeric",density:"compact",variant:"outlined","hide-details":""},null,8,["model-value"])])]),s("tr",null,[s("td",{class:"pl-2 text-left",onClick:t[7]||(t[7]=u=>l.addSimple("women")),style:{width:"70%",cursor:"pointer"}},[s("div",dt,d(e.$t("Female, 18-60")),1)]),s("td",ot,[a(I,{"model-value":n.groups.women,onBlur:t[8]||(t[8]=u=>l.recalculateSimple("women",u.target.value)),type:"number",inputmode:"numeric",density:"compact",variant:"outlined","hide-details":""},null,8,["model-value"])])]),s("tr",null,[s("td",{class:"pl-2 text-left",onClick:t[9]||(t[9]=u=>l.addSimple("seniorMen")),style:{width:"70%",cursor:"pointer"}},[s("div",rt,d(e.$t("Male, 60+")),1)]),s("td",ut,[a(I,{"model-value":n.groups.seniorMen,onBlur:t[10]||(t[10]=u=>l.recalculateSimple("seniorMen",u.target.value)),type:"number",inputmode:"numeric",density:"compact",variant:"outlined","hide-details":""},null,8,["model-value"])])]),s("tr",null,[s("td",{class:"pl-2 text-left",onClick:t[11]||(t[11]=u=>l.addSimple("seniorWomen")),style:{width:"70%",cursor:"pointer"}},[s("div",mt,d(e.$t("Female, 60+")),1)]),s("td",ct,[a(I,{"model-value":n.groups.seniorWomen,onBlur:t[12]||(t[12]=u=>l.recalculateSimple("seniorWomen",u.target.value)),type:"number",inputmode:"numeric",density:"compact",variant:"outlined","hide-details":""},null,8,["model-value"])])]),s("tr",null,[s("td",{class:"pl-2 text-left",onClick:t[13]||(t[13]=u=>l.addSimple("disabled")),style:{width:"70%",cursor:"pointer"}},[s("div",ht,d(e.$t("People with disabilities")),1)]),s("td",pt,[a(I,{"model-value":n.groups.disabled,onBlur:t[14]||(t[14]=u=>l.recalculateSimple("disabled",u.target.value)),type:"number",inputmode:"numeric",density:"compact",variant:"outlined","hide-details":""},null,8,["model-value"])])])])]),_:1})]),_:1})]),_:1})):$("",!0),n.simplified?$("",!0):(f(),w(_,{key:1,class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[g(s("div",null,d(e.$t("You haven't added any family members yet!")),513),[[b,!l.model||l.model.length===0]]),(f(!0),V(N,null,T(l.model,(u,y)=>(f(),V("div",{key:"familyMember-"+y,class:"mb-8"},[s("div",ft,[k(d(e.$t("Family member"))+" "+d(y+1)+" ",1),a(de,{dense:"",size:"small",onClick:A=>l.model.splice(y,1)},{default:i(()=>[k(d(e.$t("Remove")),1)]),_:2},1032,["onClick"])]),a(_,null,{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[a(r,{modelValue:l.model[y].taxId,"onUpdate:modelValue":A=>l.model[y].taxId=A,onBlur:A=>l.checkTaxId(y,l.model[y].taxId),hint:e.$t("This field can be ommited if the person has no tax ID")},null,8,["modelValue","onUpdate:modelValue","onBlur","hint"])]),_:2},1024),n.results[y]?(f(),w(m,{key:0,"model-value":n.results[y]},null,8,["model-value"])):$("",!0),a(h,{cols:"12",lg:"6"},{default:i(()=>[a(v,{modelValue:l.model[y].gender,"onUpdate:modelValue":A=>l.model[y].gender=A},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(h,{cols:"12",lg:"6"},{default:i(()=>[a(c,{modelValue:l.model[y].birthday,"onUpdate:modelValue":[A=>l.model[y].birthday=A,A=>l.calculateAge(y,A)],max:new Date,label:e.$t("Birthday")},null,8,["modelValue","onUpdate:modelValue","max","label"])]),_:2},1024)]),_:2},1024),a(S,{modelValue:l.model[y].vulnerability,"onUpdate:modelValue":A=>l.model[y].vulnerability=A,age:parseInt(l.model[y].age),gender:l.model[y].gender,mode:"edit"},null,8,["modelValue","onUpdate:modelValue","age","gender"])]))),128)),a(M,{onClick:l.addFamilyMember,class:"mt-4",small:""},{default:i(()=>[a(U,null,{default:i(()=>t[15]||(t[15]=[k("mdi-plus")])),_:1}),k(" "+d(e.$t("Add family member")),1)]),_:1},8,["onClick"])]),_:1})]),_:1}))])}const bl=F(Qe,[["render",gt]]),bt=["alley","avenue","borough","boulevard","bout","breakthrough","bypass","descent","entrance","farmstead","garage cooperative","gardening","harbor","highway","impasse","lane","maidan","microdistrict","other","passage","path","quarter","residential area","road","square","station","street","tract"],yt={name:"CustomStreet",props:{modelValue:{type:Object,default:()=>({})}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},streetTypes(){const e=JSON.parse(JSON.stringify(bt));return e.sort((t,o)=>this.$t(t).localeCompare(this.$t(o))),e}},methods:{updateStreet(e){this.model.translation||(this.model.translation={}),this.model.translation.uk||(this.model.translation.uk={}),this.model.translation.uk.street=e}},watch:{"model.translation.uk.street"(e){this.model.street=this.$_translit(e)}}},_t={class:"address"};function vt(e,t,o,p,n,l){const r=oe;return f(),V("div",_t,[a(_,null,{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[a(_,null,{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[a(r,{modelValue:l.model.streetType,"onUpdate:modelValue":t[0]||(t[0]=m=>l.model.streetType=m),label:e.$t("Type"),items:l.streetTypes},null,8,["modelValue","label","items"])]),_:1}),a(h,{cols:"12"},{default:i(()=>{var m,v;return[a(I,{modelValue:(v=(m=l.model.translation)==null?void 0:m.uk)==null?void 0:v.street,"onUpdate:modelValue":l.updateStreet,rules:[c=>!c||c&&c.match(/^[^a-z]*$/i)!==null||e.$t("This field must not be provided in English")],label:e.$t("Street (ukr)"),hint:e.$t("This field will be transliterated automatically"),variant:"underlined","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue","rules","label","hint"])]}),_:1}),a(h,{md:"6",cols:"12"},{default:i(()=>[a(I,{modelValue:l.model.building,"onUpdate:modelValue":t[1]||(t[1]=m=>l.model.building=m),label:e.$t("Building"),variant:"underlined","hide-details":""},null,8,["modelValue","label"])]),_:1}),a(h,{md:"6",cols:"12"},{default:i(()=>[a(I,{modelValue:l.model.apartment,"onUpdate:modelValue":t[2]||(t[2]=m=>l.model.apartment=m),label:e.$t("# Apt"),variant:"underlined","hide-details":""},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:1})])}const Vt=F(yt,[["render",vt]]),kt={name:"Household",props:{modelValue:{type:Object,default:()=>({})},householdId:{type:String}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},watch:{householdId(e){this.model.householdId=this.householdId}}},It={class:"text-h5 mb-2 offset-md1 black--text"};function $t(e,t,o,p,n,l){const r=Vt;return f(),w(_,{class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[s("div",It,d(e.$t("Household address")),1),s("div",null,d(e.$t("Indicate the address where the assistance is provided")),1)]),_:1}),a(h,{cols:"12"},{default:i(()=>[a(r,{modelValue:l.model,"onUpdate:modelValue":t[0]||(t[0]=m=>l.model=m)},null,8,["modelValue"])]),_:1})]),_:1})}const yl=F(kt,[["render",$t]]),wt=["UA01","UA71","UA74","UA73","UA12","UA14","UA26","UA63","UA65","UA68","UA35","UA80","UA32","UA44","UA46","UA48","UA51","UA53","UA56","UA85","UA59","UA61","UA05","UA07","UA21","UA23","UA18"],Ft={name:"CustomOblast",props:{modelValue:{type:String}},computed:{items(){return wt}},methods:{update(e){this.$emit("update:modelValue",e)},localizedFilter(e,t,o){return e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}}},At={class:"oblast"};function Mt(e,t,o,p,n,l){return f(),V("div",At,[a(G,{"model-value":o.modelValue,variant:"underlined","onUpdate:modelValue":l.update,clearable:"","no-data-text":e.$t("No data available"),items:l.items,"item-title":r=>r?e.$t(r):"","item-value":r=>r,label:e.$t("Oblast"),"custom-filter":l.localizedFilter},null,8,["model-value","onUpdate:modelValue","no-data-text","items","item-title","item-value","label","custom-filter"])])}const St=F(Ft,[["render",Mt]]),Ut={name:"PersonInfo",props:{modelValue:{type:Object,default:()=>({})},itemsList:{type:Array}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},age(){return P(this.model.birthday)}},watch:{"model.birthday"(e){e&&(this.model.age=P(e))},"model.translation.uk.familyName"(e){this.model.familyName=this.$_translit(e)},"model.translation.uk.givenName"(e){this.model.givenName=this.$_translit(e)},"model.translation.uk.additionalName"(e){this.model.additionalName=this.$_translit(e)}}},Ct={class:"text-h5 mb-2 offset-md1 black--text"},Dt={class:"text-h5 mb-2 offset-md1 black--text"},Nt={class:"mb-2"},Tt={class:"mb-2"},xt={class:"text-h5 mb-2 offset-md1 black--text"},Rt={class:"mb-2"};function Pt(e,t,o,p,n,l){const r=St,m=E,v=W,c=Y,S=ue;return f(),V("div",null,[a(_,{class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[s("div",Ct,d(e.$t("Oblast of origin")),1),s("div",null,d(e.$t("Address of the receiver")),1)]),_:1}),a(h,{cols:"12"},{default:i(()=>[a(r,{modelValue:l.model.origin,"onUpdate:modelValue":t[0]||(t[0]=u=>l.model.origin=u)},null,8,["modelValue"])]),_:1})]),_:1}),a(_,{class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[s("div",Dt,d(e.$t("Personal data")),1),s("div",Nt,d(e.$t("Provide information about the receiver")),1),s("div",null,d(e.$t("Please input person's name in Ukrainian and check the proper transliteration below")),1)]),_:1}),a(h,{cols:"12"},{default:i(()=>[a(I,{modelValue:l.model.translation.uk.familyName,"onUpdate:modelValue":t[1]||(t[1]=u=>l.model.translation.uk.familyName=u),label:e.$t("Family name (ua)"),name:"familyNameUk",variant:"underlined",id:"familyNameUk"},null,8,["modelValue","label"]),a(I,{modelValue:l.model.translation.uk.givenName,"onUpdate:modelValue":t[2]||(t[2]=u=>l.model.translation.uk.givenName=u),label:e.$t("Given name (ua)"),name:"givenNameNameUk",variant:"underlined",id:"givenNameNameUk"},null,8,["modelValue","label"]),a(I,{modelValue:l.model.translation.uk.additionalName,"onUpdate:modelValue":t[3]||(t[3]=u=>l.model.translation.uk.additionalName=u),label:e.$t("Adittional name (ua)"),name:"additionalNameUk",variant:"underlined",id:"additionalNameUk"},null,8,["modelValue","label"])]),_:1})]),_:1}),a(_,{class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[s("div",Tt,d(e.$t("Please change this if the data in the international passport is different from the official transliteration")),1)]),_:1}),a(h,{cols:"12"},{default:i(()=>[a(I,{modelValue:l.model.familyName,"onUpdate:modelValue":t[4]||(t[4]=u=>l.model.familyName=u),label:e.$t("Family name"),name:"familyName",variant:"underlined",id:"familyName"},null,8,["modelValue","label"]),a(I,{modelValue:l.model.givenName,"onUpdate:modelValue":t[5]||(t[5]=u=>l.model.givenName=u),label:e.$t("Given name"),name:"givenNameName",variant:"underlined",id:"givenNameName"},null,8,["modelValue","label"]),a(I,{modelValue:l.model.additionalName,"onUpdate:modelValue":t[6]||(t[6]=u=>l.model.additionalName=u),label:e.$t("Adittional name"),name:"additionalName",variant:"underlined",id:"additionalName"},null,8,["modelValue","label"]),a(m,{modelValue:l.model.gender,"onUpdate:modelValue":t[7]||(t[7]=u=>l.model.gender=u)},null,8,["modelValue"])]),_:1})]),_:1}),a(_,null,{default:i(()=>[a(h,{cols:"12",md:"12"},{default:i(()=>[a(v,{modelValue:l.model.birthday,"onUpdate:modelValue":t[8]||(t[8]=u=>l.model.birthday=u),max:new Date,label:e.$t("Birthday")},null,8,["modelValue","max","label"])]),_:1})]),_:1}),a(_,null,{default:i(()=>[a(h,null,{default:i(()=>[a(c,{modelValue:l.model.vulnerability,"onUpdate:modelValue":t[9]||(t[9]=u=>l.model.vulnerability=u),gender:l.model.gender,age:parseInt(l.age),mode:"edit"},null,8,["modelValue","gender","age"])]),_:1})]),_:1}),a(_,{class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[s("div",xt,d(e.$t("Contacts")),1),s("div",Rt,d(e.$t("Add the personal contacts")),1)]),_:1})]),_:1}),a(_,{class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[a(S,{modelValue:l.model.phone,"onUpdate:modelValue":t[10]||(t[10]=u=>l.model.phone=u),mode:"edit",multiple:""},null,8,["modelValue"])]),_:1})]),_:1})])}const _l=F(Ut,[["render",Pt]]),Ot={name:"CustomAdmin4",props:{modelValue:{type:Object,default:()=>({})}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},admin4Codes(){return me.filter(t=>t.indexOf(this.model.pCode3)!==-1).sort((t,o)=>this.$t(t).localeCompare(this.$t(o)))}}},Bt={class:"text-h5 mb-2 offset-md1 black--text"},Lt={class:"address-admin4"};function zt(e,t,o,p,n,l){const r=re;return f(),w(_,{class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[s("div",Bt,d(e.$t("Person's location")),1),s("div",null,d(e.$t("Specify the location of the person you are helping if it is different from the distribution location")),1)]),_:1}),a(h,{cols:"12"},{default:i(()=>[s("div",Lt,[a(_,null,{default:i(()=>[a(h,{cols:"12"},{default:i(()=>{var m,v;return[g(a(G,{modelValue:l.model.pCode4,"onUpdate:modelValue":t[0]||(t[0]=c=>l.model.pCode4=c),items:l.admin4Codes,"item-title":c=>c?e.$t(c):"","item-value":c=>c,variant:"underlined",label:e.$t("Locality"),hint:e.$t("Enter admin4 level title"),"no-data-text":e.$t("No data available"),class:"mb-4",clearable:"","hide-details":""},null,8,["modelValue","items","item-title","item-value","label","hint","no-data-text"]),[[b,l.model.pCode3&&((m=l.model.country)==null?void 0:m.name)==="Ukraine"]]),g(a(r,{modelValue:l.model.admin4,"onUpdate:modelValue":t[1]||(t[1]=c=>l.model.admin4=c),label:e.$t("Admin 4 level"),variant:"underlined",class:"mb-4","hide-details":""},null,8,["modelValue","label"]),[[b,l.model.country&&((v=l.model.country)==null?void 0:v.name)!=="Ukraine"]])]}),_:1})]),_:1})])]),_:1})]),_:1})}const vl=F(Ot,[["render",zt]]),jt={name:"DistributionFormMeta",props:{modelValue:{type:Object,default:()=>({})}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},Ht={class:"text-h5 mb-2 offset-md1 black--text"},Gt={class:"mb-2"};function Wt(e,t,o,p,n,l){const r=he,m=ce;return f(),V("div",null,[a(_,{class:"mb-0 mt-2 pb-0"},{default:i(()=>[a(h,{cols:"12",class:"mb-0 pb-0"},{default:i(()=>[s("div",Ht,d(e.$t("Metadata")),1),s("div",Gt,d(e.$t("Indicate basic information about the assistance")),1)]),_:1})]),_:1}),a(r,{modelValue:l.model.populationType,"onUpdate:modelValue":t[0]||(t[0]=v=>l.model.populationType=v),label:e.$t("Category"),class:"mb-4"},null,8,["modelValue","label"]),a(_,null,{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[a(m,{modelValue:l.model.tags,"onUpdate:modelValue":t[1]||(t[1]=v=>l.model.tags=v),entity:"assistances"},null,8,["modelValue"])]),_:1})]),_:1})])}const Vl=F(jt,[["render",Wt]]),Et=()=>({mask:["AAAAAAAAA","BB AAAAAA"],tokens:{A:{pattern:/\d/},B:{pattern:/[А-Я]/i,transform:e=>e.toUpperCase()}}}),qt=function(){return[e=>!e||e.length===9||this.$t("This is not a full passport number"),e=>!e||/^\d{9}$/.test(e)||/^[а-я]{2} \d{6}$/i.test(e)||this.$t("This number is invalid")]},Yt={name:"CustomPassport",props:{modelValue:{type:String}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},validationRules:qt,options:Et}};function Jt(e,t,o,p,n,l){const r=j("maska");return g((f(),w(I,{modelValue:l.model,"onUpdate:modelValue":t[0]||(t[0]=m=>l.model=m),label:e.$t("Passport Number"),rules:l.validationRules,hint:e.$t("Enter the passport or ID card number"),class:"passport",placeholder:"АН 000000","validate-on":"blur",clearable:"",name:"passport",variant:"underlined"},null,8,["modelValue","label","rules","hint"])),[[r,void 0,l.options]])}const Qt=F(Yt,[["render",Jt]]),{people:Kt}=q,Xt={name:"DistributionFormDocument",props:{modelValue:{type:Object,default:()=>({})},id:{type:String},date:{type:[Date,String],default:new Date},householdId:{type:String},distributionId:{type:String}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},noData(){return this.taxId&&this.taxId.match(/^\d{10}$/)?!1:this.passport?!(this.passport.match(/^[а-я]{2} *\d{6}$/i)||this.passport.match(/^\d{9}/)):!0}},mounted(){this.model.taxId&&(this.taxId=this.model.taxId),this.model.noTaxId&&(this.noTaxId=this.model.noTaxId),this.model.passport&&(this.passport=this.model.passport),this.id&&(this.currentId=this.id)},data(){return{currentId:void 0,existingDistribution:!1,taxId:void 0,birthday:void 0,age:void 0,gender:void 0,passport:void 0,noTaxId:!1,checkResult:{},loading:!1}},methods:{async checkIPN(e){if(!e)return{result:"error",message:"Tax ID must contain 10 numbers"};if(!e.match(/^\d{10}$/))return{result:"error",message:"Tax ID must contain 10 numbers"};let t=R(e);return t.result==="success"&&(t.age=Kt.calculateAge({birthday:t.birthday,date:this.date}),Object.assign(this.model,C(t)),this.age=t.age,this.birthday=t.birthday,this.gender=t.gender),t.result==="warning"?{result:"warning",message:"This tax ID is invalid"}:t},async checkPOC(){var t,o,p,n;this.loading=!0,this.checkResult={},this.taxId&&(this.checkResult=await this.checkIPN(this.taxId)),this.passport&&(this.checkResult={result:"success"});const e=[this.taxId,this.passport].filter(Boolean);if(this.checkResult.duplicates=await this.checkDuplicates(e),(o=(t=this.checkResult)==null?void 0:t.duplicates)!=null&&o.length){const l=C(this.checkResult.duplicates[0].headOfHousehold);Object.assign(this.checkResult,l)}this.existingDistribution=(n=(p=this.checkResult)==null?void 0:p.duplicates)==null?void 0:n.find(l=>l.distributionId===this.distributionId),this.loading=!1},async checkDuplicates(e){const{assistances:t}=this.$storage;let o=t.useIndex("peopleIds").include(["publicId","bundleName","organization","items","strings","address","date","headOfHousehold","household","familyMembers","headOfHouseholdId"]).filter({peopleIds:e}).sort("date");return o=await o.find(),o.items},checkAnother(){this.taxId=void 0,this.checkDatamartResult={},this.checkResult={}},proceedFurther(){if(this.existingDistribution)return this.setDistribution();let e=this.checkResult.duplicates.find(n=>{var l;return((l=n.headOfHousehold)==null?void 0:l.taxId)===this.taxId&&n.familyMembers});const t=this.checkResult.duplicates.find(n=>n.familyMembers?n.familyMembers.map(l=>l.taxId).includes(this.taxId):!1);let o=this.checkResult.duplicates.find(n=>{var l;return((l=n.headOfHousehold)==null?void 0:l.taxId)===this.taxId});if(e)Object.assign(this.model,e.headOfHousehold),this.$emit("setFamilyMembers",e.familyMembers),e.household&&this.$emit("setHousehold",e.household);else if(typeof t=="object"){let n=t.familyMembers;n=n.filter(l=>l.taxId!==this.taxId),n.push(C(t.headOfHousehold)),this.$emit("setFamilyMembers",n),t.household&&this.$emit("setHousehold",t.household),this.taxId&&(this.model.taxId=this.taxId),this.noTaxId&&(this.model.noTaxId=this.noTaxId),this.passport&&(this.model.passport=this.passport),this.model.age=this.age,this.model.birthday=this.birthday,this.model.gender=this.gender}else typeof o=="object"?(Object.assign(this.model,o.headOfHousehold),o.household&&this.$emit("setHousehold",o.household)):(this.taxId&&(this.model.taxId=this.taxId),this.noTaxId&&(this.model.noTaxId=this.noTaxId),this.passport&&(this.model.passport=this.passport),this.model.age=this.age,this.model.birthday=this.birthday,this.model.gender=this.gender);let p=this.model.passport||this.model.taxId;p=p==="0000000000"?L():p,this.$emit("setId",p)},async setDistribution(){const{assistances:e}=this.$storage,t=await e[this.existingDistribution.id];this.$emit("set-distribution",t),this.$emit("set-id",t.headOfHouseholdId)}},watch:{"model.noTaxId"(e){e&&(this.taxId=void 0,this.checkResult={})},"model.noDocuments"(e){e&&(this.$emit("setId",L()),this.model.taxId="0000000000"),e||(this.model.passport=void 0,this.$emit("setId",void 0))}}},Zt={class:"text-h5 mb-2 offset-md1 black--text"},el={class:"mb-2"},tl={class:"mb-2"};function ll(e,t,o,p,n,l){const r=Q,m=Qt,v=J;return f(),V("div",null,[a(_,{class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[s("div",Zt,d(e.$t("Documents")),1),s("div",el,d(e.$t("Please indicate the person's tax ID or passport number")),1)]),_:1})]),_:1}),a(_,{class:"mb-2 mt-2"},{default:i(()=>[a(h,{cols:"12",md:"6"},{default:i(()=>[a(r,{modelValue:n.taxId,"onUpdate:modelValue":[t[0]||(t[0]=c=>n.taxId=c),t[1]||(t[1]=c=>n.currentId=void 0)],disabled:n.noTaxId||n.checkResult.result==="success",id:"taxId"},null,8,["modelValue","disabled"])]),_:1}),a(h,{cols:"12",md:"6"},{default:i(()=>[g(a(B,{modelValue:n.noTaxId,"onUpdate:modelValue":t[2]||(t[2]=c=>n.noTaxId=c),label:e.$t("Person has no tax ID"),disabled:typeof n.checkResult.result=="success",name:"noTaxId",id:"noTaxId"},null,8,["modelValue","label","disabled"]),[[b,!l.model.noDocuments]])]),_:1}),g(a(h,{cols:"12"},{default:i(()=>[s("div",tl,d(e.$t("Please note that the passport number must be provided only if the person refused to receive the tax ID due to the religious beliefs")),1),a(m,{modelValue:n.passport,"onUpdate:modelValue":t[3]||(t[3]=c=>n.passport=c)},null,8,["modelValue"])]),_:1},512),[[b,n.noTaxId]]),Object.keys(n.checkResult).length&&!n.loading&&!n.existingDistribution?(f(),w(v,{key:0,modelValue:n.checkResult,"onUpdate:modelValue":t[4]||(t[4]=c=>n.checkResult=c)},null,8,["modelValue"])):$("",!0),n.existingDistribution?(f(),w(h,{key:1,cols:"12",class:"mt-0 pt-0"},{default:i(()=>[a(H,{type:"error",closable:""},{default:i(()=>[k(d(e.$t("This person has already received items during the current distribution. Would you like to provide additional items to this person?")),1)]),_:1})]),_:1})):$("",!0),g(a(h,{cols:"12"},{default:i(()=>[s("p",null,d(e.$t("Hereby I confirm that this person has no any identity document")),1),a(B,{modelValue:l.model.noDocuments,"onUpdate:modelValue":t[5]||(t[5]=c=>l.model.noDocuments=c),label:e.$t("Person has no documents"),name:"noDocuments",id:"noDocuments"},null,8,["modelValue","label"])]),_:1},512),[[b,n.taxId==="0000000000"]]),g(a(h,{cols:"12"},{default:i(()=>[g(a(M,{onClick:l.checkPOC,color:"primary",disabled:n.loading||l.noData},{default:i(()=>[k(d(e.$t("Check")),1)]),_:1},8,["onClick","disabled"]),[[b,n.checkResult.result!=="success"&&n.taxId!=="0000000000"]]),g(a(M,{onClick:l.checkAnother,color:"info",variant:"text",class:"mr-2"},{default:i(()=>[k(d(e.$t("Check another")),1)]),_:1},8,["onClick"]),[[b,n.checkResult.result==="success"&&!n.loading]]),g(a(M,{onClick:l.proceedFurther,color:"primary"},{default:i(()=>[k(d(e.$t("Proceed")),1)]),_:1},8,["onClick"]),[[b,n.checkResult.result==="success"&&!n.loading]])]),_:1},512),[[b,!n.currentId]])]),_:1})])}const kl=F(Xt,[["render",ll]]);export{kl as _,Vl as a,vl as b,_l as c,yl as d,bl as e,gl as f};
