import{bx as ut,p as I,u as M,b as P,e as ie,aZ as Ie,d as re,P as q,am as z,h as H,aA as ae,m as K,a as d,q as _,L as j,bQ as it,aF as A,r as L,j as dt,a$ as ct,bR as ft,aB as se,s as mt,t as F,bb as Ve,bS as ee,bT as Z,aG as de,G as W,aJ as ce,C as pe,ah as X,y as vt,b9 as oe,O as gt,T as ht,J as bt,I as yt,aI as Y,aH as pt,K as xt}from"./index-BtIo2-Z_.js";import{V as xe}from"./VPagination-zp71F-1D.js";import{V as Ce,u as St,m as Pt}from"./filter-ahsWVyiP.js";import{r as wt,b as kt,L as Dt,z as Tt,V as Se,c as It,f as Vt}from"./index-SDX8Otz2.js";import{V as Ct}from"./VChip-CKNl8kC9.js";import{a as fe}from"./VCheckboxBtn-DQUGWCnj.js";import{V as Fe}from"./VBtn--bGuKZaN.js";import{d as Ft}from"./VList-Cnqqz-5U.js";function Pe(e,l,a){return Object.keys(e).filter(t=>ut(t)&&t.endsWith(l)).reduce((t,n)=>(t[n.slice(0,-l.length)]=r=>e[n](r,a(r)),t),{})}const Bt=I({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Be=Symbol.for("vuetify:data-table-pagination");function _t(e){const l=M(e,"page",void 0,t=>Number(t??1)),a=M(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:l,itemsPerPage:a}}function Ot(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,n=P(()=>a.value===-1?0:a.value*(l.value-1)),r=P(()=>a.value===-1?t.value:Math.min(t.value,n.value+a.value)),s=P(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));ie([l,s],()=>{l.value>s.value&&(l.value=s.value)});function o(g){a.value=g,l.value=1}function c(){l.value=re(l.value+1,1,s.value)}function i(){l.value=re(l.value-1,1,s.value)}function m(g){l.value=re(g,1,s.value)}const v={page:l,itemsPerPage:a,startIndex:n,stopIndex:r,pageCount:s,itemsLength:t,nextPage:c,prevPage:i,setPage:m,setItemsPerPage:o};return z(Be,v),v}function $t(){const e=q(Be);if(!e)throw new Error("Missing pagination!");return e}function At(e){const l=Ie("usePaginatedItems"),{items:a,startIndex:t,stopIndex:n,itemsPerPage:r}=e,s=P(()=>r.value<=0?a.value:a.value.slice(t.value,n.value));return ie(s,o=>{l.emit("update:currentItems",o)},{immediate:!0}),{paginatedItems:s}}const _e=I({prevIcon:{type:j,default:"$prev"},nextIcon:{type:j,default:"$next"},firstIcon:{type:j,default:"$first"},lastIcon:{type:j,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),we=H()({name:"VDataTableFooter",props:_e(),setup(e,l){let{slots:a}=l;const{t}=ae(),{page:n,pageCount:r,startIndex:s,stopIndex:o,itemsLength:c,itemsPerPage:i,setItemsPerPage:m}=$t(),v=P(()=>e.itemsPerPageOptions.map(g=>typeof g=="number"?{value:g,title:g===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(g)}:{...g,title:isNaN(Number(g.title))?t(g.title):g.title}));return K(()=>{var p;const g=xe.filterProps(e);return d("div",{class:"v-data-table-footer"},[(p=a.prepend)==null?void 0:p.call(a),d("div",{class:"v-data-table-footer__items-per-page"},[d("span",null,[t(e.itemsPerPageText)]),d(Ce,{items:v.value,modelValue:i.value,"onUpdate:modelValue":h=>m(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),d("div",{class:"v-data-table-footer__info"},[d("div",null,[t(e.pageText,c.value?s.value+1:0,o.value,c.value)])]),d("div",{class:"v-data-table-footer__pagination"},[d(xe,_({modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:r.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},g),null)])])}),{}}}),te=it({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,l)=>{let{slots:a}=l;const t=e.tag??"td";return d(t,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:A(e.height),width:A(e.width),maxWidth:A(e.maxWidth),left:A(e.fixedOffset||null)}},{default:()=>{var n;return[(n=a.default)==null?void 0:n.call(a)]}})}),Nt=I({headers:Array},"DataTable-header"),Oe=Symbol.for("vuetify:data-table-headers"),$e={title:"",sortable:!1},Rt={...$e,width:48};function Ht(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,t)=>{let n=!1;for(let r=0;r<l.length;r++)if(l[r].priority>t){l.splice(r,0,{element:a,priority:t}),n=!0;break}n||l.push({element:a,priority:t})},size:()=>l.length,count:()=>{let a=0;if(!l.length)return 0;const t=Math.floor(l[0].priority);for(let n=0;n<l.length;n++)Math.floor(l[n].priority)===t&&(a+=1);return a},dequeue:()=>l.shift()}}function ue(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)l.push(e);else for(const a of e.children)ue(a,l);return l}function Ae(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&l.add(a.key),a.children&&Ae(a.children,l);return l}function Et(e){if(e.key){if(e.key==="data-table-group")return $e;if(["data-table-expand","data-table-select"].includes(e.key))return Rt}}function me(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(l,...e.children.map(a=>me(a,l+1))):l}function Gt(e){let l=!1;function a(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(s&&(r.fixed=!0),r.fixed)if(r.children)for(let o=r.children.length-1;o>=0;o--)a(r.children[o],!0);else l?isNaN(Number(r.width))?ft(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0):r.lastFixed=!0,l=!0;else if(r.children)for(let o=r.children.length-1;o>=0;o--)a(r.children[o]);else l=!1}for(let r=e.length-1;r>=0;r--)a(e[r]);function t(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return s;if(r.children){r.fixedOffset=s;for(const o of r.children)s=t(o,s)}else r.fixed&&(r.fixedOffset=s,s+=parseFloat(r.width||"0")||0);return s}let n=0;for(const r of e)n=t(r,n)}function Lt(e,l){const a=[];let t=0;const n=Ht(e);for(;n.size()>0;){let s=n.count();const o=[];let c=1;for(;s>0;){const{element:i,priority:m}=n.dequeue(),v=l-t-me(i);if(o.push({...i,rowspan:v??1,colspan:i.children?ue(i).length:1}),i.children)for(const g of i.children){const p=m%1+c/Math.pow(10,t+2);n.enqueue(g,t+v+p)}c+=1,s-=1}t+=1,a.push(o)}return{columns:e.map(s=>ue(s)).flat(),headers:a}}function Ne(e){const l=[];for(const a of e){const t={...Et(a),...a},n=t.key??(typeof t.value=="string"?t.value:null),r=t.value??n??null,s={...t,key:n,value:r,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?Ne(t.children):void 0};l.push(s)}return l}function jt(e,l){const a=L([]),t=L([]),n=L({}),r=L({}),s=L({});dt(()=>{var y,f,w;const i=(e.headers||Object.keys(e.items[0]??{}).map(u=>({key:u,title:ct(u)}))).slice(),m=Ae(i);(y=l==null?void 0:l.groupBy)!=null&&y.value.length&&!m.has("data-table-group")&&i.unshift({key:"data-table-group",title:"Group"}),(f=l==null?void 0:l.showSelect)!=null&&f.value&&!m.has("data-table-select")&&i.unshift({key:"data-table-select"}),(w=l==null?void 0:l.showExpand)!=null&&w.value&&!m.has("data-table-expand")&&i.push({key:"data-table-expand"});const v=Ne(i);Gt(v);const g=Math.max(...v.map(u=>me(u)))+1,p=Lt(v,g);a.value=p.headers,t.value=p.columns;const h=p.headers.flat(1);for(const u of h)u.key&&(u.sortable&&(u.sort&&(n.value[u.key]=u.sort),u.sortRaw&&(r.value[u.key]=u.sortRaw)),u.filter&&(s.value[u.key]=u.filter))});const o={headers:a,columns:t,sortFunctions:n,sortRawFunctions:r,filterFunctions:s};return z(Oe,o),o}function le(){const e=q(Oe);if(!e)throw new Error("Missing headers!");return e}const Mt={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:l,value:a}=e;return new Set(a?[(t=l[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Re={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,currentPage:a,selected:t}=e;return Re.select({items:a,value:l,selected:t})}},He={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,allItems:a,selected:t}=e;return He.select({items:a,value:l,selected:t})}},Wt=I({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Ve}},"DataTable-select"),Ee=Symbol.for("vuetify:data-table-selection");function qt(e,l){let{allItems:a,currentPage:t}=l;const n=M(e,"modelValue",e.modelValue,u=>new Set(se(u).map(x=>{var D;return((D=a.value.find(S=>e.valueComparator(x,S.value)))==null?void 0:D.value)??x})),u=>[...u.values()]),r=P(()=>a.value.filter(u=>u.selectable)),s=P(()=>t.value.filter(u=>u.selectable)),o=P(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Mt;case"all":return He;case"page":default:return Re}}),c=mt(null);function i(u){return se(u).every(x=>n.value.has(x.value))}function m(u){return se(u).some(x=>n.value.has(x.value))}function v(u,x){const D=o.value.select({items:u,value:x,selected:new Set(n.value)});n.value=D}function g(u,x,D){const S=[];if(x=x??t.value.findIndex(O=>O.value===u.value),e.selectStrategy!=="single"&&(D!=null&&D.shiftKey)&&c.value!==null){const[O,R]=[c.value,x].sort((T,b)=>T-b);S.push(...t.value.slice(O,R+1))}else S.push(u),c.value=x;v(S,!i([u]))}function p(u){const x=o.value.selectAll({value:u,allItems:r.value,currentPage:s.value,selected:new Set(n.value)});n.value=x}const h=P(()=>n.value.size>0),y=P(()=>{const u=o.value.allSelected({allItems:r.value,currentPage:s.value});return!!u.length&&i(u)}),f=F(()=>o.value.showSelectAll),w={toggleSelect:g,select:v,selectAll:p,isSelected:i,isSomeSelected:m,someSelected:h,allSelected:y,showSelectAll:f,lastSelectedIndex:c,selectStrategy:o};return z(Ee,w),w}function ne(){const e=q(Ee);if(!e)throw new Error("Missing selection!");return e}const zt=I({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Ge=Symbol.for("vuetify:data-table-sort");function Kt(e){const l=M(e,"sortBy"),a=F(()=>e.mustSort),t=F(()=>e.multiSort);return{sortBy:l,mustSort:a,multiSort:t}}function Ut(e){const{sortBy:l,mustSort:a,multiSort:t,page:n}=e,r=c=>{if(c.key==null)return;let i=l.value.map(v=>({...v}))??[];const m=i.find(v=>v.key===c.key);m?m.order==="desc"?a.value&&i.length===1?m.order="asc":i=i.filter(v=>v.key!==c.key):m.order="desc":t.value?i.push({key:c.key,order:"asc"}):i=[{key:c.key,order:"asc"}],l.value=i,n&&(n.value=1)};function s(c){return!!l.value.find(i=>i.key===c.key)}const o={sortBy:l,toggleSort:r,isSorted:s};return z(Ge,o),o}function Le(){const e=q(Ge);if(!e)throw new Error("Missing sort!");return e}function Jt(e,l,a,t){const n=ae();return{sortedItems:P(()=>{var s,o;return a.value.length?Qt(l.value,a.value,n.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(s=t==null?void 0:t.sortFunctions)==null?void 0:s.value},sortRawFunctions:(o=t==null?void 0:t.sortRawFunctions)==null?void 0:o.value}):l.value})}}function Qt(e,l,a,t){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(s=>[s,t!=null&&t.transform?t.transform(s):s]).sort((s,o)=>{var c,i;for(let m=0;m<l.length;m++){let v=!1;const g=l[m].key,p=l[m].order??"asc";if(p===!1)continue;let h=ee(s[1],g),y=ee(o[1],g),f=s[0].raw,w=o[0].raw;if(p==="desc"&&([h,y]=[y,h],[f,w]=[w,f]),(c=t==null?void 0:t.sortRawFunctions)!=null&&c[g]){const u=t.sortRawFunctions[g](f,w);if(u==null)continue;if(v=!0,u)return u}if((i=t==null?void 0:t.sortFunctions)!=null&&i[g]){const u=t.sortFunctions[g](h,y);if(u==null)continue;if(v=!0,u)return u}if(!v){if(h instanceof Date&&y instanceof Date)return h.getTime()-y.getTime();if([h,y]=[h,y].map(u=>u!=null?u.toString().toLocaleLowerCase():u),h!==y)return Z(h)&&Z(y)?0:Z(h)?-1:Z(y)?1:!isNaN(h)&&!isNaN(y)?Number(h)-Number(y):n.compare(h,y)}}return 0}).map(s=>{let[o]=s;return o})}const je=I({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:j,default:"$sortAsc"},sortDescIcon:{type:j,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...ce(),...Tt()},"VDataTableHeaders"),ke=H()({name:"VDataTableHeaders",props:je(),setup(e,l){let{slots:a}=l;const{t}=ae(),{toggleSort:n,sortBy:r,isSorted:s}=Le(),{someSelected:o,allSelected:c,selectAll:i,showSelectAll:m}=ne(),{columns:v,headers:g}=le(),{loaderClasses:p}=wt(e);function h(T,b){if(!(!(e.sticky||e.fixedHeader)&&!T.fixed))return{position:"sticky",left:T.fixed?A(T.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${b})`:void 0}}function y(T){const b=r.value.find(V=>V.key===T.key);return b?b.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:f,backgroundColorStyles:w}=kt(()=>e.color),{displayClasses:u,mobile:x}=de(e),D=P(()=>({headers:g.value,columns:v.value,toggleSort:n,isSorted:s,sortBy:r.value,someSelected:o.value,allSelected:c.value,selectAll:i,getSortIcon:y})),S=P(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},u.value,p.value]),O=T=>{let{column:b,x:V,y:k}=T;const C=b.key==="data-table-select"||b.key==="data-table-expand",$=_(e.headerProps??{},b.headerProps??{});return d(te,_({tag:"th",align:b.align,class:[{"v-data-table__th--sortable":b.sortable&&!e.disableSort,"v-data-table__th--sorted":s(b),"v-data-table__th--fixed":b.fixed},...S.value],style:{width:A(b.width),minWidth:A(b.minWidth),maxWidth:A(b.maxWidth),...h(b,k)},colspan:b.colspan,rowspan:b.rowspan,onClick:b.sortable?()=>n(b):void 0,fixed:b.fixed,nowrap:b.nowrap,lastFixed:b.lastFixed,noPadding:C},$),{default:()=>{var G;const E=`header.${b.key}`,Q={column:b,selectAll:i,isSorted:s,toggleSort:n,sortBy:r.value,someSelected:o.value,allSelected:c.value,getSortIcon:y};return a[E]?a[E](Q):b.key==="data-table-select"?((G=a["header.data-table-select"])==null?void 0:G.call(a,Q))??(m.value&&d(fe,{modelValue:c.value,indeterminate:o.value&&!c.value,"onUpdate:modelValue":i},null)):d("div",{class:"v-data-table-header__content"},[d("span",null,[b.title]),b.sortable&&!e.disableSort&&d(Se,{key:"icon",class:"v-data-table-header__sort-icon",icon:y(b)},null),e.multiSort&&s(b)&&d("div",{key:"badge",class:["v-data-table-header__sort-badge",...f.value],style:w.value},[r.value.findIndex(U=>U.key===b.key)+1])])}})},R=()=>{const T=_(e.headerProps??{}??{}),b=P(()=>v.value.filter(k=>(k==null?void 0:k.sortable)&&!e.disableSort)),V=P(()=>{if(v.value.find(C=>C.key==="data-table-select")!=null)return c.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return d(te,_({tag:"th",class:[...S.value],colspan:g.value.length+1},T),{default:()=>[d("div",{class:"v-data-table-header__content"},[d(Ce,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:b.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:V.value,"onClick:append":()=>i(!c.value)},{...a,chip:k=>{var C;return d(Ct,{onClick:(C=k.item.raw)!=null&&C.sortable?()=>n(k.item.raw):void 0,onMousedown:$=>{$.preventDefault(),$.stopPropagation()}},{default:()=>[k.item.title,d(Se,{class:["v-data-table__td-sort-icon",s(k.item.raw)&&"v-data-table__td-sort-icon-active"],icon:y(k.item.raw),size:"small"},null)]})}})])]})};K(()=>x.value?d("tr",null,[d(R,null,null)]):d(W,null,[a.headers?a.headers(D.value):g.value.map((T,b)=>d("tr",null,[T.map((V,k)=>d(O,{column:V,x:k,y:b},null))])),e.loading&&d("tr",{class:"v-data-table-progress"},[d("th",{colspan:v.value.length},[d(Dt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),Zt=I({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Me=Symbol.for("vuetify:data-table-group");function Xt(e){return{groupBy:M(e,"groupBy")}}function Yt(e){const{disableSort:l,groupBy:a,sortBy:t}=e,n=L(new Set),r=P(()=>a.value.map(m=>({...m,order:m.order??!1})).concat(l!=null&&l.value?[]:t.value));function s(m){return n.value.has(m.id)}function o(m){const v=new Set(n.value);s(m)?v.delete(m.id):v.add(m.id),n.value=v}function c(m){function v(g){const p=[];for(const h of g.items)"type"in h&&h.type==="group"?p.push(...v(h)):p.push(h);return[...new Set(p)]}return v({items:m})}const i={sortByWithGroups:r,toggleGroup:o,opened:n,groupBy:a,extractRows:c,isGroupOpen:s};return z(Me,i),i}function We(){const e=q(Me);if(!e)throw new Error("Missing group!");return e}function ea(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const n=ee(t.raw,l);a.has(n)||a.set(n,[]),a.get(n).push(t)}return a}function qe(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=ea(e,l[0]),r=[],s=l.slice(1);return n.forEach((o,c)=>{const i=l[0],m=`${t}_${i}_${c}`;r.push({depth:a,id:m,key:i,value:c,items:s.length?qe(o,s,a+1,m):o,type:"group"})}),r}function ze(e,l){const a=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&a.push(t),(l.has(t.id)||t.value==null)&&a.push(...ze(t.items,l))):a.push(t);return a}function ta(e,l,a){return{flatItems:P(()=>{if(!l.value.length)return e.value;const n=qe(e.value,l.value.map(r=>r.key));return ze(n,a.value)})}}const aa=I({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),la=H()({name:"VDataTableGroupHeaderRow",props:aa(),setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:n,extractRows:r}=We(),{isSelected:s,isSomeSelected:o,select:c}=ne(),{columns:i}=le(),m=P(()=>r([e.item]));return()=>d("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(v=>{var g,p;if(v.key==="data-table-group"){const h=t(e.item)?"$expand":"$next",y=()=>n(e.item);return((g=a["data-table-group"])==null?void 0:g.call(a,{item:e.item,count:m.value.length,props:{icon:h,onClick:y}}))??d(te,{class:"v-data-table-group-header-row__column"},{default:()=>[d(Fe,{size:"small",variant:"text",icon:h,onClick:y},null),d("span",null,[e.item.value]),d("span",null,[pe("("),m.value.length,pe(")")])]})}if(v.key==="data-table-select"){const h=s(m.value),y=o(m.value)&&!h,f=w=>c(m.value,w);return((p=a["data-table-select"])==null?void 0:p.call(a,{props:{modelValue:h,indeterminate:y,"onUpdate:modelValue":f}}))??d("td",null,[d(fe,{modelValue:h,indeterminate:y,"onUpdate:modelValue":f},null)])}return d("td",null,null)})])}}),na=I({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Ke=Symbol.for("vuetify:datatable:expanded");function ra(e){const l=F(()=>e.expandOnClick),a=M(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function t(o,c){const i=new Set(a.value);c?i.add(o.value):i.delete(o.value),a.value=i}function n(o){return a.value.has(o.value)}function r(o){t(o,!n(o))}const s={expand:t,expanded:a,expandOnClick:l,isExpanded:n,toggleExpand:r};return z(Ke,s),s}function Ue(){const e=q(Ke);if(!e)throw new Error("foo");return e}const sa=I({index:Number,item:Object,cellProps:[Object,Function],onClick:oe(),onContextmenu:oe(),onDblclick:oe(),...ce()},"VDataTableRow"),oa=H()({name:"VDataTableRow",props:sa(),setup(e,l){let{slots:a}=l;const{displayClasses:t,mobile:n}=de(e,"v-data-table__tr"),{isSelected:r,toggleSelect:s,someSelected:o,allSelected:c,selectAll:i}=ne(),{isExpanded:m,toggleExpand:v}=Ue(),{toggleSort:g,sortBy:p,isSorted:h}=Le(),{columns:y}=le();K(()=>d("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&y.value.map((f,w)=>{const u=e.item,x=`item.${f.key}`,D=`header.${f.key}`,S={index:e.index,item:u.raw,internalItem:u,value:ee(u.columns,f.key),column:f,isSelected:r,toggleSelect:s,isExpanded:m,toggleExpand:v},O={column:f,selectAll:i,isSorted:h,toggleSort:g,sortBy:p.value,someSelected:o.value,allSelected:c.value,getSortIcon:()=>""},R=typeof e.cellProps=="function"?e.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value,column:f}):e.cellProps,T=typeof f.cellProps=="function"?f.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value}):f.cellProps;return d(te,_({align:f.align,class:{"v-data-table__td--expanded-row":f.key==="data-table-expand","v-data-table__td--select-row":f.key==="data-table-select"},fixed:f.fixed,fixedOffset:f.fixedOffset,lastFixed:f.lastFixed,maxWidth:n.value?void 0:f.maxWidth,noPadding:f.key==="data-table-select"||f.key==="data-table-expand",nowrap:f.nowrap,width:n.value?void 0:f.width},R,T),{default:()=>{var V,k,C,$;if(f.key==="data-table-select")return((V=a["item.data-table-select"])==null?void 0:V.call(a,{...S,props:{disabled:!u.selectable,modelValue:r([u]),onClick:X(()=>s(u),["stop"])}}))??d(fe,{disabled:!u.selectable,modelValue:r([u]),onClick:X(E=>s(u,e.index,E),["stop"])},null);if(f.key==="data-table-expand")return((k=a["item.data-table-expand"])==null?void 0:k.call(a,{...S,props:{icon:m(u)?"$collapse":"$expand",size:"small",variant:"text",onClick:X(()=>v(u),["stop"])}}))??d(Fe,{icon:m(u)?"$collapse":"$expand",size:"small",variant:"text",onClick:X(()=>v(u),["stop"])},null);if(a[x]&&!n.value)return a[x](S);const b=vt(S.value);return n.value?d(W,null,[d("div",{class:"v-data-table__td-title"},[((C=a[D])==null?void 0:C.call(a,O))??f.title]),d("div",{class:"v-data-table__td-value"},[(($=a[x])==null?void 0:$.call(a,S))??b])]):b}})})]))}}),Je=I({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...ce()},"VDataTableRows"),De=H()({name:"VDataTableRows",inheritAttrs:!1,props:Je(),setup(e,l){let{attrs:a,slots:t}=l;const{columns:n}=le(),{expandOnClick:r,toggleExpand:s,isExpanded:o}=Ue(),{isSelected:c,toggleSelect:i}=ne(),{toggleGroup:m,isGroupOpen:v}=We(),{t:g}=ae(),{mobile:p}=de(e);return K(()=>{var h,y;return e.loading&&(!e.items.length||t.loading)?d("tr",{class:"v-data-table-rows-loading",key:"loading"},[d("td",{colspan:n.value.length},[((h=t.loading)==null?void 0:h.call(t))??g(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?d("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[d("td",{colspan:n.value.length},[((y=t["no-data"])==null?void 0:y.call(t))??g(e.noDataText)])]):d(W,null,[e.items.map((f,w)=>{var D;if(f.type==="group"){const S={index:w,item:f,columns:n.value,isExpanded:o,toggleExpand:s,isSelected:c,toggleSelect:i,toggleGroup:m,isGroupOpen:v};return t["group-header"]?t["group-header"](S):d(la,_({key:`group-header_${f.id}`,item:f},Pe(a,":group-header",()=>S)),t)}const u={index:w,item:f.raw,internalItem:f,columns:n.value,isExpanded:o,toggleExpand:s,isSelected:c,toggleSelect:i},x={...u,props:_({key:`item_${f.key??f.index}`,onClick:r.value?()=>{s(f)}:void 0,index:w,item:f,cellProps:e.cellProps,mobile:p.value},Pe(a,":row",()=>u),typeof e.rowProps=="function"?e.rowProps({item:u.item,index:u.index,internalItem:u.internalItem}):e.rowProps)};return d(W,{key:x.props.key},[t.item?t.item(x):d(oa,x.props,t),o(f)&&((D=t["expanded-row"])==null?void 0:D.call(t,u))])})])}),{}}}),Qe=I({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...yt(),...Vt(),...bt(),...ht()},"VTable"),Te=H()({name:"VTable",props:Qe(),setup(e,l){let{slots:a,emit:t}=l;const{themeClasses:n}=gt(e),{densityClasses:r}=It(e);return K(()=>d(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover},n.value,r.value,e.class],style:e.style},{default:()=>{var s,o,c;return[(s=a.top)==null?void 0:s.call(a),a.default?d("div",{class:"v-table__wrapper",style:{height:A(e.height)}},[d("table",null,[a.default()])]):(o=a.wrapper)==null?void 0:o.call(a),(c=a.bottom)==null?void 0:c.call(a)]}})),{}}}),ua=I({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function ia(e,l,a,t){const n=e.returnObject?l:Y(l,e.itemValue),r=Y(l,e.itemSelectable,!0),s=t.reduce((o,c)=>(c.key!=null&&(o[c.key]=Y(l,c.value)),o),{});return{type:"item",key:e.returnObject?Y(l,e.itemValue):n,index:a,value:n,selectable:r,columns:s,raw:l}}function da(e,l,a){return l.map((t,n)=>ia(e,t,n,a))}function ca(e,l){return{items:P(()=>da(e,e.items,l.value))}}function fa(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:n,search:r}=e;const s=Ie("VDataTable"),o=()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:n.value,search:r.value});let c=null;ie(o,i=>{Ve(c,i)||(c&&c.search!==i.search&&(l.value=1),s.emit("update:options",i),c=i)},{deep:!0,immediate:!0})}const ma=I({...Je(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...na(),...Zt(),...Nt(),...ua(),...Wt(),...zt(),...je(),...Qe()},"DataTable"),va=I({...Bt(),...ma(),...Pt(),..._e()},"VDataTable"),wa=H()({name:"VDataTable",props:va(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:n}=Xt(e),{sortBy:r,multiSort:s,mustSort:o}=Kt(e),{page:c,itemsPerPage:i}=_t(e),{disableSort:m}=pt(e),{columns:v,headers:g,sortFunctions:p,sortRawFunctions:h,filterFunctions:y}=jt(e,{groupBy:n,showSelect:F(()=>e.showSelect),showExpand:F(()=>e.showExpand)}),{items:f}=ca(e,v),w=F(()=>e.search),{filteredItems:u}=St(e,f,w,{transform:N=>N.columns,customKeyFilter:y}),{toggleSort:x}=Ut({sortBy:r,multiSort:s,mustSort:o,page:c}),{sortByWithGroups:D,opened:S,extractRows:O,isGroupOpen:R,toggleGroup:T}=Yt({groupBy:n,sortBy:r,disableSort:m}),{sortedItems:b}=Jt(e,u,D,{transform:N=>({...N.raw,...N.columns}),sortFunctions:p,sortRawFunctions:h}),{flatItems:V}=ta(b,n,S),k=P(()=>V.value.length),{startIndex:C,stopIndex:$,pageCount:E,setItemsPerPage:Q}=Ot({page:c,itemsPerPage:i,itemsLength:k}),{paginatedItems:G}=At({items:V,startIndex:C,stopIndex:$,itemsPerPage:i}),U=P(()=>O(G.value)),{isSelected:Ze,select:Xe,selectAll:Ye,toggleSelect:et,someSelected:tt,allSelected:at}=qt(e,{allItems:f,currentPage:U}),{isExpanded:lt,toggleExpand:nt}=ra(e);fa({page:c,itemsPerPage:i,sortBy:r,groupBy:n,search:w}),xt({VDataTableRows:{hideNoData:F(()=>e.hideNoData),noDataText:F(()=>e.noDataText),loading:F(()=>e.loading),loadingText:F(()=>e.loadingText)}});const B=P(()=>({page:c.value,itemsPerPage:i.value,sortBy:r.value,pageCount:E.value,toggleSort:x,setItemsPerPage:Q,someSelected:tt.value,allSelected:at.value,isSelected:Ze,select:Xe,selectAll:Ye,toggleSelect:et,isExpanded:lt,toggleExpand:nt,isGroupOpen:R,toggleGroup:T,items:U.value.map(N=>N.raw),internalItems:U.value,groupedItems:G.value,columns:v.value,headers:g.value}));return K(()=>{const N=we.filterProps(e),rt=ke.filterProps(e),st=De.filterProps(e),ot=Te.filterProps(e);return d(Te,_({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ot,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var J;return(J=t.top)==null?void 0:J.call(t,B.value)},default:()=>{var J,ve,ge,he,be,ye;return t.default?t.default(B.value):d(W,null,[(J=t.colgroup)==null?void 0:J.call(t,B.value),!e.hideDefaultHeader&&d("thead",{key:"thead"},[d(ke,rt,t)]),(ve=t.thead)==null?void 0:ve.call(t,B.value),!e.hideDefaultBody&&d("tbody",null,[(ge=t["body.prepend"])==null?void 0:ge.call(t,B.value),t.body?t.body(B.value):d(De,_(a,st,{items:G.value}),t),(he=t["body.append"])==null?void 0:he.call(t,B.value)]),(be=t.tbody)==null?void 0:be.call(t,B.value),(ye=t.tfoot)==null?void 0:ye.call(t,B.value)])},bottom:()=>t.bottom?t.bottom(B.value):!e.hideDefaultFooter&&d(W,null,[d(Ft,null,null),d(we,N,{prepend:t["footer.prepend"]})])})}),{}}});export{wa as V,Te as a,Kt as b,Xt as c,jt as d,Jt as e,ta as f,qt as g,ra as h,fa as i,Ut as j,ke as k,De as l,oa as m,Zt as n,ma as o,Yt as p,_t as q,Ot as r,we as s,_e as t,ca as u,Bt as v};
