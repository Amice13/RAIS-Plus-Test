import{V as me,c as xe}from"./VTextField-Bn35T3UG.js";import{h as ce,p as z,bG as be,e as E,m as fe,a as f,G as $,q as K,I as we,aG as Ce,s as _,j as ue,r as N,b as D,bU as Ae,U as ke,d as ne,aI as Se,W as Ie,au as se,aZ as Me,aj as Re,t as Pe,i as _e,f as De,aF as ee,al as Oe,aA as Le,u as he,aB as ie,bb as ae,bV as Be,C as Ke,S as Ee,bW as ge,bD as ye,L as He,bJ as J}from"./index-BtIo2-Z_.js";import{d as Ue}from"./VInput-CRZE-Mt3.js";import{f as je}from"./forwardRefs--KQCZfKO.js";import{u as Ne,V as $e,a as pe,m as ze}from"./VList-Cnqqz-5U.js";import{V as Ve,g as We,s as Ge}from"./index-SDX8Otz2.js";import{V as Je}from"./VMenu-Cs322VI3.js";import{g as Qe}from"./VOverlay-BnbjS8dz.js";import{a as Xe}from"./VCheckboxBtn-DQUGWCnj.js";import{V as Ye}from"./VAvatar-l5UJO0sV.js";import{V as Ze}from"./VChip-CKNl8kC9.js";import{V as qe}from"./dialog-transition-Dq7CKyny.js";const et=z({renderless:Boolean,...we()},"VVirtualScrollItem"),tt=ce()({name:"VVirtualScrollItem",inheritAttrs:!1,props:et(),emits:{"update:height":e=>!0},setup(e,a){let{attrs:t,emit:r,slots:o}=a;const{resizeRef:d,contentRect:v}=be(void 0,"border");E(()=>{var u;return(u=v.value)==null?void 0:u.height},u=>{u!=null&&r("update:height",u)}),fe(()=>{var u,s;return e.renderless?f($,null,[(u=o.default)==null?void 0:u.call(o,{itemRef:d})]):f("div",K({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(s=o.default)==null?void 0:s.call(o)])})}}),lt=-1,nt=1,oe=100,at=z({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function ot(e,a){const t=Ce(),r=_(0);ue(()=>{r.value=parseFloat(e.itemHeight||0)});const o=_(0),d=_(Math.ceil((parseInt(e.height)||t.height.value)/(r.value||16))||1),v=_(0),u=_(0),s=N(),y=N();let c=0;const{resizeRef:C,contentRect:b}=be();ue(()=>{C.value=s.value});const m=D(()=>{var l;return s.value===document.documentElement?t.height.value:((l=b.value)==null?void 0:l.height)||parseInt(e.height)||0}),P=D(()=>!!(s.value&&y.value&&m.value&&r.value));let w=Array.from({length:a.value.length}),S=Array.from({length:a.value.length});const h=_(0);let T=-1;function R(l){return w[l]||r.value}const V=Ae(()=>{const l=performance.now();S[0]=0;const i=a.value.length;for(let p=1;p<=i-1;p++)S[p]=(S[p-1]||0)+R(p-1);h.value=Math.max(h.value,performance.now()-l)},h),Q=E(P,l=>{l&&(Q(),c=y.value.offsetTop,V.immediate(),O(),~T&&Ie(()=>{se&&window.requestAnimationFrame(()=>{q(T),T=-1})}))});ke(()=>{V.clear()});function te(l,i){const p=w[l],I=r.value;r.value=I?Math.min(r.value,i):i,(p!==i||I!==r.value)&&(w[l]=i,V())}function A(l){return l=ne(l,0,a.value.length-1),S[l]||0}function X(l){return rt(S,l)}let H=0,B=0,W=0;E(m,(l,i)=>{i&&(O(),l<i&&requestAnimationFrame(()=>{B=0,O()}))});let U=-1;function j(){if(!s.value||!y.value)return;const l=s.value.scrollTop,i=performance.now();i-W>500?(B=Math.sign(l-H),c=y.value.offsetTop):B=l-H,H=l,W=i,window.clearTimeout(U),U=window.setTimeout(Y,500),O()}function Y(){!s.value||!y.value||(B=0,W=0,window.clearTimeout(U),O())}let Z=-1;function O(){cancelAnimationFrame(Z),Z=requestAnimationFrame(le)}function le(){if(!s.value||!m.value)return;const l=H-c,i=Math.sign(B),p=Math.max(0,l-oe),I=ne(X(p),0,a.value.length),g=l+m.value+oe,k=ne(X(g)+1,I+1,a.value.length);if((i!==lt||I<o.value)&&(i!==nt||k>d.value)){const x=A(o.value)-A(I),L=A(k)-A(d.value);Math.max(x,L)>oe?(o.value=I,d.value=k):(I<=0&&(o.value=I),k>=a.value.length&&(d.value=k))}v.value=A(o.value),u.value=A(a.value.length)-A(d.value)}function q(l){const i=A(l);!s.value||l&&!i?T=l:s.value.scrollTop=i}const n=D(()=>a.value.slice(o.value,d.value).map((l,i)=>{const p=i+o.value;return{raw:l,index:p,key:Se(l,e.itemKey,p)}}));return E(a,()=>{w=Array.from({length:a.value.length}),S=Array.from({length:a.value.length}),V.immediate(),O()},{deep:1}),{calculateVisibleItems:O,containerRef:s,markerRef:y,computedItems:n,paddingTop:v,paddingBottom:u,scrollToIndex:q,handleScroll:j,handleScrollend:Y,handleItemResize:te}}function rt(e,a){let t=e.length-1,r=0,o=0,d=null,v=-1;if(e[t]<a)return t;for(;r<=t;)if(o=r+t>>1,d=e[o],d>a)t=o-1;else if(d<a)v=o,r=o+1;else return d===a?o:r;return v}const ut=z({items:{type:Array,default:()=>[]},renderless:Boolean,...at(),...we(),...Oe()},"VVirtualScroll"),st=ce()({name:"VVirtualScroll",props:ut(),setup(e,a){let{slots:t}=a;const r=Me("VVirtualScroll"),{dimensionStyles:o}=Re(e),{calculateVisibleItems:d,containerRef:v,markerRef:u,handleScroll:s,handleScrollend:y,handleItemResize:c,scrollToIndex:C,paddingTop:b,paddingBottom:m,computedItems:P}=ot(e,Pe(()=>e.items));return _e(()=>e.renderless,()=>{function w(){var T,R;const h=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";v.value===document.documentElement?(document[h]("scroll",s,{passive:!0}),document[h]("scrollend",y)):((T=v.value)==null||T[h]("scroll",s,{passive:!0}),(R=v.value)==null||R[h]("scrollend",y))}De(()=>{v.value=Qe(r.vnode.el,!0),w(!0)}),ke(w)}),fe(()=>{const w=P.value.map(S=>f(tt,{key:S.key,renderless:e.renderless,"onUpdate:height":h=>c(S.index,h)},{default:h=>{var T;return(T=t.default)==null?void 0:T.call(t,{item:S.raw,index:S.index,...h})}}));return e.renderless?f($,null,[f("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:ee(b.value)}},null),w,f("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ee(m.value)}},null)]):f("div",{ref:v,class:["v-virtual-scroll",e.class],onScrollPassive:s,onScrollend:y,style:[o.value,e.style]},[f("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:ee(b.value),paddingBottom:ee(m.value)}},[w])])}),{calculateVisibleItems:d,scrollToIndex:C}}});function it(e,a){const t=_(!1);let r;function o(u){cancelAnimationFrame(r),t.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{t.value=!1})})}async function d(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(t.value){const s=E(t,()=>{s(),u()})}else u()})}async function v(u){var c,C;if(u.key==="Tab"&&((c=a.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const s=(C=e.value)==null?void 0:C.$el;if(!s)return;(u.key==="Home"||u.key==="End")&&s.scrollTo({top:u.key==="Home"?0:s.scrollHeight,behavior:"smooth"}),await d();const y=s.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const b=s.getBoundingClientRect().top;for(const m of y)if(m.getBoundingClientRect().top>=b){m.focus();break}}else{const b=s.getBoundingClientRect().bottom;for(const m of[...y].reverse())if(m.getBoundingClientRect().bottom<=b){m.focus();break}}}return{onScrollPassive:o,onKeydown:v}}const ct=z({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:He,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...ze({itemChildren:!1})},"Select"),ft=z({...ct(),...Ee(xe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ge({transition:{component:qe}})},"VSelect"),Tt=ce()({name:"VSelect",props:ft(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,a){let{slots:t}=a;const{t:r}=Le(),o=N(),d=N(),v=N(),{items:u,transformIn:s,transformOut:y}=Ne(e),c=he(e,"modelValue",[],n=>s(n===null?[null]:ie(n)),n=>{const l=y(n);return e.multiple?l:l[0]??null}),C=D(()=>typeof e.counterValue=="function"?e.counterValue(c.value):typeof e.counterValue=="number"?e.counterValue:c.value.length),b=Ue(e),m=D(()=>c.value.map(n=>n.value)),P=_(!1);let w="",S;const h=D(()=>e.hideSelected?u.value.filter(n=>!c.value.some(l=>(e.valueComparator||ae)(l,n))):u.value),T=D(()=>e.hideNoData&&!h.value.length||b.isReadonly.value||b.isDisabled.value),R=he(e,"menu"),V=D({get:()=>R.value,set:n=>{var l;R.value&&!n&&((l=d.value)!=null&&l.Î¨openChildren.size)||n&&T.value||(R.value=n)}}),Q=Pe(()=>V.value?e.closeText:e.openText),te=D(()=>{var n;return{...e.menuProps,activatorProps:{...((n=e.menuProps)==null?void 0:n.activatorProps)||{},"aria-haspopup":"listbox"}}}),A=N(),X=it(A,o);function H(n){e.openOnClear&&(V.value=!0)}function B(){T.value||(V.value=!V.value)}function W(n){ge(n)&&U(n)}function U(n){var I,g;if(!n.key||b.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(n.key)&&n.preventDefault(),["Enter","ArrowDown"," "].includes(n.key)&&(V.value=!0),["Escape","Tab"].includes(n.key)&&(V.value=!1),n.key==="Home"?(I=A.value)==null||I.focus("first"):n.key==="End"&&((g=A.value)==null||g.focus("last"));const l=1e3;if(!ge(n))return;const i=performance.now();i-S>l&&(w=""),w+=n.key.toLowerCase(),S=i;const p=u.value.find(k=>k.title.toLowerCase().startsWith(w));if(p!==void 0){c.value=[p];const k=h.value.indexOf(p);se&&window.requestAnimationFrame(()=>{var x;k>=0&&((x=v.value)==null||x.scrollToIndex(k))})}}function j(n){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!n.props.disabled)if(e.multiple){const i=c.value.findIndex(I=>(e.valueComparator||ae)(I.value,n.value)),p=l??!~i;if(~i){const I=p?[...c.value,n]:[...c.value];I.splice(i,1),c.value=I}else p&&(c.value=[...c.value,n])}else{const i=l!==!1;c.value=i?[n]:[],Ie(()=>{V.value=!1})}}function Y(n){var l;(l=A.value)!=null&&l.$el.contains(n.relatedTarget)||(V.value=!1)}function Z(){var n;e.eager&&((n=v.value)==null||n.calculateVisibleItems())}function O(){var n;P.value&&((n=o.value)==null||n.focus())}function le(n){P.value=!0}function q(n){if(n==null)c.value=[];else if(ye(o.value,":autofill")||ye(o.value,":-webkit-autofill")){const l=u.value.find(i=>i.title===n);l&&j(l)}else o.value&&(o.value.value="")}return E(V,()=>{if(!e.hideSelected&&V.value&&c.value.length){const n=h.value.findIndex(l=>c.value.some(i=>(e.valueComparator||ae)(i.value,l.value)));se&&window.requestAnimationFrame(()=>{var l;n>=0&&((l=v.value)==null||l.scrollToIndex(n))})}}),E(()=>e.items,(n,l)=>{V.value||P.value&&!l.length&&n.length&&(V.value=!0)}),fe(()=>{const n=!!(e.chips||t.chip),l=!!(!e.hideNoData||h.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),i=c.value.length>0,p=me.filterProps(e),I=i||!P.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return f(me,K({ref:o},p,{modelValue:c.value.map(g=>g.props.value).join(", "),"onUpdate:modelValue":q,focused:P.value,"onUpdate:focused":g=>P.value=g,validationValue:c.externalValue,counterValue:C.value,dirty:i,class:["v-select",{"v-select--active-menu":V.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:I,"onClick:clear":H,"onMousedown:control":B,onBlur:Y,onKeydown:U,"aria-label":r(Q.value),title:r(Q.value)}),{...t,default:()=>f($,null,[f(Je,K({ref:d,modelValue:V.value,"onUpdate:modelValue":g=>V.value=g,activator:"parent",contentClass:"v-select__content",disabled:T.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Z,onAfterLeave:O},te.value),{default:()=>[l&&f($e,K({ref:A,selected:m.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:g=>g.preventDefault(),onKeydown:W,onFocusin:le,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},X,e.listProps),{default:()=>{var g,k,x;return[(g=t["prepend-item"])==null?void 0:g.call(t),!h.value.length&&!e.hideNoData&&(((k=t["no-data"])==null?void 0:k.call(t))??f(pe,{key:"no-data",title:r(e.noDataText)},null)),f(st,{ref:v,renderless:!0,items:h.value,itemKey:"value"},{default:L=>{var ve;let{item:F,index:G,itemRef:M}=L;const de=K(F.props,{ref:M,key:F.value,onClick:()=>j(F,null)});return((ve=t.item)==null?void 0:ve.call(t,{item:F,index:G,props:de}))??f(pe,K(de,{role:"option"}),{prepend:Te=>{let{isSelected:Fe}=Te;return f($,null,[e.multiple&&!e.hideSelected?f(Xe,{key:F.value,modelValue:Fe,ripple:!1,tabindex:"-1"},null):void 0,F.props.prependAvatar&&f(Ye,{image:F.props.prependAvatar},null),F.props.prependIcon&&f(Ve,{icon:F.props.prependIcon},null)])}})}}),(x=t["append-item"])==null?void 0:x.call(t)]}})]}),c.value.map((g,k)=>{function x(M){M.stopPropagation(),M.preventDefault(),j(g,!1)}const L={"onClick:close":x,onKeydown(M){M.key!=="Enter"&&M.key!==" "||(M.preventDefault(),M.stopPropagation(),x(M))},onMousedown(M){M.preventDefault(),M.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},F=n?!!t.chip:!!t.selection,G=F?Be(n?t.chip({item:g,index:k,props:L}):t.selection({item:g,index:k})):void 0;if(!(F&&!G))return f("div",{key:g.value,class:"v-select__selection"},[n?t.chip?f(We,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:g.title}}},{default:()=>[G]}):f(Ze,K({key:"chip",closable:e.closableChips,size:"small",text:g.title,disabled:g.props.disabled},L),null):G??f("span",{class:"v-select__selection-text"},[g.title,e.multiple&&k<c.value.length-1&&f("span",{class:"v-select__selection-comma"},[Ke(",")])])])})]),"append-inner":function(){var L,F;for(var g=arguments.length,k=new Array(g),x=0;x<g;x++)k[x]=arguments[x];return f($,null,[(L=t["append-inner"])==null?void 0:L.call(t,...k),e.menuIcon?f(Ve,{class:"v-select__menu-icon",color:(F=o.value)==null?void 0:F.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),je({isFocused:P,menu:V,select:j},o)}}),dt=(e,a,t)=>{if(e==null||a==null)return-1;if(!a.length)return 0;e=e.toString().toLocaleLowerCase(),a=a.toString().toLocaleLowerCase();const r=[];let o=e.indexOf(a);for(;~o;)r.push([o,o+a.length]),o=e.indexOf(a,o+a.length);return r.length?r:-1};function re(e,a){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+a.length]]:Array.isArray(e[0])?e:[e]}const Ft=z({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function vt(e,a,t){var u;const r=[],o=(t==null?void 0:t.default)??dt,d=t!=null&&t.filterKeys?ie(t.filterKeys):!1,v=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let s=0;s<e.length;s++){const[y,c=y]=ie(e[s]),C={},b={};let m=-1;if((a||v>0)&&!(t!=null&&t.noFilter)){if(typeof y=="object"){const S=d||Object.keys(c);for(const h of S){const T=Se(c,h),R=(u=t==null?void 0:t.customKeyFilter)==null?void 0:u[h];if(m=R?R(T,a,y):o(T,a,y),m!==-1&&m!==!1)R?C[h]=re(m,a):b[h]=re(m,a);else if((t==null?void 0:t.filterMode)==="every")continue e}}else m=o(y,a,y),m!==-1&&m!==!1&&(b.title=re(m,a));const P=Object.keys(b).length,w=Object.keys(C).length;if(!P&&!w||(t==null?void 0:t.filterMode)==="union"&&w!==v&&!P||(t==null?void 0:t.filterMode)==="intersection"&&(w!==v||!P))continue}r.push({index:s,matches:{...b,...C}})}return r}function xt(e,a,t,r){const o=_([]),d=_(new Map),v=D(()=>r!=null&&r.transform?J(a).map(s=>[s,r.transform(s)]):J(a));ue(()=>{const s=typeof t=="function"?t():J(t),y=typeof s!="string"&&typeof s!="number"?"":String(s),c=vt(v.value,y,{customKeyFilter:{...e.customKeyFilter,...J(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),C=J(a),b=[],m=new Map;c.forEach(P=>{let{index:w,matches:S}=P;const h=C[w];b.push(h),m.set(h.value,S)}),o.value=b,d.value=m});function u(s){return d.value.get(s.value)}return{filteredItems:o,filteredMatches:d,getMatches:u}}function Ct(e,a,t){return t==null||!t.length?a:t.map((r,o)=>{const d=o===0?0:t[o-1][1],v=[f("span",{class:`${e}__unmask`},[a.slice(d,r[0])]),f("span",{class:`${e}__mask`},[a.slice(r[0],r[1])])];return o===t.length-1&&v.push(f("span",{class:`${e}__unmask`},[a.slice(r[1])])),f($,null,[v])})}export{Tt as V,ot as a,tt as b,at as c,it as d,st as e,ct as f,Ct as h,Ft as m,xt as u};
