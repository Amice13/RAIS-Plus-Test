import{p as g}from"./index-D0cxP7tL.js";import{_ as p,o as m,c as f,w as o,a as l,z as h,A as d,C as u,B as V,F as b}from"./index-BYWsBYtF.js";import{a as _,V as v}from"./VCard-C8It3tDs.js";import{a as k,V as $}from"./VRow-D5QUgmxK.js";import{V as c}from"./VBtn-DEU8AXzn.js";import{V as y}from"./filter-5KaMYqe0.js";const w={name:"BlockSumbission",inject:["$confirm","$error","$loading","$showResult"],props:{modelValue:{type:Object,default:()=>({})},table:{type:String,default:"entity"}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},isAdmin(){var e,t,i;return(i=(t=(e=this.appStore)==null?void 0:e.user)==null?void 0:t.role)==null?void 0:i.includes("Admin")}},methods:{async save(){if(!await this.$confirm({title:"Save entity",description:"Would you like to save the entity?"}))return!1;this.$loading(!0);let t;const i=g[this.table],n=i==null?void 0:i.preprocess;n&&(this.model=n(this.model)),await this.$nextTick();try{const r=this.$storage[this.table];this.model.id||(t=await r.push(this.model)),this.model.id&&(t=await r.update(this.model.id,this.model))}catch(r){await this.$error(r),t=!1}if(this.$loading(!1),!t)return!1;await this.$showResult(),this.$goToPreviousPage()},async remove(){if(!await this.$confirm({title:"Delete entity",description:"Would you like to save the entity?"}))return!1;this.$loading(!0);let t;try{const i=this.$storage[this.table];t=await delete i[this.model.id]}catch(i){t=!1,await this.$error(i)}if(this.$loading(!1),!t)return!1;await this.$showResult(),this.$goToPreviousPage()}}},C={class:"text-h5 mb-2 offset-md1 black--text"};function S(e,t,i,n,r,s){return m(),f(v,{class:"data-block block-submission pt-sm-4 pb-sm-4 pb-md-16",rounded:"0"},{default:o(()=>[l(_,null,{default:o(()=>[l(k,{class:"mb-sm-4 mt-4"},{default:o(()=>[l($,{cols:"12",md:"3",class:"pl-md-16"},{default:o(()=>[h("div",C,d(e.$t("Submission")),1),h("div",null,d(e.$t("Please verify and submit your data")),1)]),_:1}),l($,{cols:"12",md:"9",class:"pr-md-16"},{default:o(()=>[l(c,{onClick:s.save,block:e.$vuetify.display.xs,color:"primary","prepend-icon":"mdi-pencil",class:"mb-2 mr-4"},{default:o(()=>[u(d(e.$t("Save")),1)]),_:1},8,["onClick","block"]),s.isAdmin?(m(),f(c,{key:0,onClick:s.remove,block:e.$vuetify.display.xs,color:"error","prepend-icon":"mdi-pencil",class:"mb-2 mr-4"},{default:o(()=>[u(d(e.$t("Delete")),1)]),_:1},8,["onClick","block"])):V("",!0),l(c,{onClick:t[0]||(t[0]=a=>e.$router.go(-1)),block:e.$vuetify.display.xs,variant:"text",color:"warning","prepend-icon":"mdi-close",class:"mb-sm-2 mr-4"},{default:o(()=>[u(d(e.$t("Cancel")),1)]),_:1},8,["block"])]),_:1})]),_:1})]),_:1})]),_:1})}const j=p(w,[["render",S]]),N=["UN Agency","Operational partner","Implementing partner","Local authority"],O={name:"CustomOrganizationFunctionalType",props:{modelValue:{type:String}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},items(){return N}}},R={class:"organization-functional-type"};function z(e,t,i,n,r,s){return m(),b("div",R,[l(y,{modelValue:s.model,"onUpdate:modelValue":t[0]||(t[0]=a=>s.model=a),items:s.items,"item-title":a=>a?e.$t(a):"","item-value":a=>a,label:e.$t("Functional type"),variant:"underlined",clearable:"","hide-details":""},null,8,["modelValue","items","item-title","item-value","label"])])}const E=p(O,[["render",z]]),B=["Academic / Research","Donor","Embassy","Government","International NGO","International Organization","Media","Military","National NGO","Other","Private sector","Red Cross / Red Crescent","Religious","United Nations"],T={name:"CustomOrganizationType",props:{modelValue:{type:String}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},items(){return B}}},A={class:"organization-type"};function P(e,t,i,n,r,s){return m(),b("div",A,[l(y,{modelValue:s.model,"onUpdate:modelValue":t[0]||(t[0]=a=>s.model=a),items:s.items,"item-title":a=>a?e.$t(a):"","item-value":a=>a,label:e.$t("Organization type"),variant:"underlined",clearable:"","hide-details":""},null,8,["modelValue","items","item-title","item-value","label"])])}const M=p(T,[["render",P]]);export{M as _,E as a,j as b};
