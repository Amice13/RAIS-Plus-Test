import{b as f}from"./route-block-B_A1xBdJ.js";import{_ as y}from"./index-Dr3A69Vy.js";import{z as a,A as m,l as b,m as g,i as C,j as k,k as V,C as v}from"./vuetify-8yKwgmF2.js";import{a9 as c,a3 as l,u as t,a4 as e,a6 as o,W as d,F as h,aa as _,a2 as w,Y as r,a7 as $}from"./@vue-CVhpfiSJ.js";/* empty css             */import"./pinia-DJQ_g8GY.js";import"./pinia-plugin-persistedstate-Bx52SgID.js";import"./destr-BPvN1X9m.js";import"./deep-pick-omit-CegYQlcN.js";import"./pinia-shared-state-C4xqZbDc.js";import"./broadcast-channel-TeH36tNo.js";import"./oblivious-set-DL5W-sud.js";import"./dexie-DU0pVwlp.js";import"./@turf-BykKS3Vs.js";import"./@azure-suSn7m2_.js";import"./bson-objectid-DhxNlv_d.js";import"./joi-BOBjTjze.js";import"./comlink-B8fJUUNV.js";import"./vue-i18n-rpOKKwMw.js";import"./@intlify-DAAxr81y.js";import"./axios-xsH4HHeE.js";import"./md5-Ct8Y5Pza.js";import"./crypt-VTvMai_Y.js";import"./charenc-DuOFFKym.js";import"./is-buffer-DMJNLjvk.js";import"./uuid-C6aID195.js";import"./dot-object-sCKibp8s.js";import"./jszip-B9I6jZYU.js";import"./echarts-B3RPNoSA.js";import"./zrender-BxIUiisS.js";import"./@faker-js-9AjqWMS-.js";import"./jwt-decode-VWaDGczM.js";import"./vue-router-V8rnRB0-.js";import"./maska-DMix1GTA.js";const N={size:25,from:0,filters:{}},x={name:"Admin",mounted(){this.getIndices(),this.query=JSON.parse(JSON.stringify(N)),this.appStore.loading=!1},data:()=>({indices:[],selectedIndex:void 0,query:{},records:[],total:0}),methods:{async getIndices(){const s=await this.$api.admin.getIndices();this.indices=s.data},openIndex(s){this.selectedIndex=s,this.search()},async search(){var n,u;this.query.index=this.selectedIndex.index.replace(/unhcr_deduplication_/,"");const s=await this.$api.admin.getRecords(this.query);this.records=(n=s.data)==null?void 0:n.items,this.total=(u=s.data)==null?void 0:u.count}}},S={class:"guide pa-2"},z={class:"text-h4 font-weight-bold"},B={class:"text-h5 mb-2 offset-md1 black--text"},q={key:0},L={class:"text-h5 mb-7 offset-md1 black--text"},A={style:{"white-space":"pre-wrap"}};function D(s,n,u,J,O,I){return l(),c("div",S,[t(m,{class:"mb-0 mt-0"},{default:e(()=>[t(a,{cols:"12",md:"12",class:"mb-0 mt-0 pb-4 pt-0 pl-md-8 pr-md-8"},{default:e(()=>[o("div",z,d(s.$t("Admin")),1)]),_:1})]),_:1}),t(m,{class:"mb-0 mt-0"},{default:e(()=>[t(a,{cols:"12",md:"12",class:"mb-0 mt-0 pb-0 pt-0 pl-md-8 pr-md-8"},{default:e(()=>[t(b,{class:"pt-sm-4 pb-sm-4 pt-md-16 pb-md-16"},{default:e(()=>[t(g,null,{default:e(()=>[t(m,null,{default:e(()=>[t(a,{cols:"12",md:"3",class:"pl-md-16"},{default:e(()=>[o("div",B,d(s.$t("Collections")),1),t(C,null,{default:e(()=>[(l(!0),c(h,null,_(s.indices,i=>{var p;return l(),w(k,{onClick:T=>I.openIndex(i),key:i.uuid,active:i.index===((p=s.selectedIndex)==null?void 0:p.index),color:"primary",rounded:"shaped"},{append:e(()=>[t(v,{size:"x-small",class:"ml-2"},{default:e(()=>[r(d(i["store.size"]),1)]),_:2},1024)]),default:e(()=>[t(V,{textContent:d(i.index.replace(/unhcr_deduplication_/,""))},null,8,["textContent"])]),_:2},1032,["onClick","active"])}),128))]),_:1})]),_:1}),t(a,{cols:"12",md:"9",class:"pr-md-16"},{default:e(()=>[s.selectedIndex?(l(),c("div",q,[o("div",L,[n[0]||(n[0]=o("strong",null,"Index: ",-1)),o("span",null,d(s.selectedIndex.index),1)]),t(m,{class:"bg-primary"},{default:e(()=>[t(a,null,{default:e(()=>[r("Health: "+d(s.selectedIndex.health),1)]),_:1}),t(a,null,{default:e(()=>[r("Status: "+d(s.selectedIndex.status),1)]),_:1}),t(a,null,{default:e(()=>[r("Documents: "+d(s.selectedIndex["docs.count"]),1)]),_:1}),t(a,null,{default:e(()=>[r("Deleted: "+d(s.selectedIndex["docs.deleted"]),1)]),_:1}),t(a,null,{default:e(()=>[r("Size: "+d(s.selectedIndex["store.size"]),1)]),_:1})]),_:1}),t(m,{class:"mt-8"},{default:e(()=>[t(a,{class:"ml-4"},{default:e(()=>[(l(!0),c(h,null,_(s.records,(i,p)=>(l(),c("div",{class:"pl-4",key:"record"+p,style:{"border-left":"#0072BC 5px solid","max-width":"100%"}},[o("pre",A,d(JSON.stringify(i,void 0,2)),1)]))),128))]),_:1})]),_:1})])):$("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}typeof f=="function"&&f(x);const ye=y(x,[["render",D]]);export{ye as default};
