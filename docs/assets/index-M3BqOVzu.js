import{b as f}from"./route-block-B_A1xBdJ.js";import{_ as b,F as c,a as t,w as e,o as i,z as n,A as d,G as h,H as _,C as o,B as y,c as V}from"./index-BYWsBYtF.js";import{a as m,V as a}from"./VRow-D5QUgmxK.js";import{V as g,a as C}from"./VCard-C8It3tDs.js";import{V as k,a as v,b as w}from"./VList-wnBQ6eUC.js";import{V as $}from"./VChip-BnTEbD1P.js";/* empty css              */import"./VAvatar-Bm8XvpvO.js";import"./index-CqdMy8lr.js";import"./VImg-wiXIkP7s.js";import"./index-bmXFo_Al.js";import"./group-BcbT0sDe.js";const N={size:25,from:0,filters:{}},x={name:"Admin",mounted(){this.getIndices(),this.query=JSON.parse(JSON.stringify(N)),this.appStore.loading=!1},data:()=>({indices:[],selectedIndex:void 0,query:{},records:[],total:0}),methods:{async getIndices(){const s=await this.$api.admin.getIndices();this.indices=s.data},openIndex(s){this.selectedIndex=s,this.search()},async search(){var r,p;this.query.index=this.selectedIndex.index.replace(/unhcr_deduplication_/,"");const s=await this.$api.admin.getRecords(this.query);this.records=(r=s.data)==null?void 0:r.items,this.total=(p=s.data)==null?void 0:p.count}}},S={class:"guide pa-2"},z={class:"text-h4 font-weight-bold"},B={class:"text-h5 mb-2 offset-md1 black--text"},q={key:0},L={class:"text-h5 mb-7 offset-md1 black--text"},A={style:{"white-space":"pre-wrap"}};function D(s,r,p,J,O,I){return i(),c("div",S,[t(m,{class:"mb-0 mt-0"},{default:e(()=>[t(a,{cols:"12",md:"12",class:"mb-0 mt-0 pb-4 pt-0 pl-md-8 pr-md-8"},{default:e(()=>[n("div",z,d(s.$t("Admin")),1)]),_:1})]),_:1}),t(m,{class:"mb-0 mt-0"},{default:e(()=>[t(a,{cols:"12",md:"12",class:"mb-0 mt-0 pb-0 pt-0 pl-md-8 pr-md-8"},{default:e(()=>[t(g,{class:"pt-sm-4 pb-sm-4 pt-md-16 pb-md-16"},{default:e(()=>[t(C,null,{default:e(()=>[t(m,null,{default:e(()=>[t(a,{cols:"12",md:"3",class:"pl-md-16"},{default:e(()=>[n("div",B,d(s.$t("Collections")),1),t(k,null,{default:e(()=>[(i(!0),c(h,null,_(s.indices,l=>{var u;return i(),V(v,{onClick:T=>I.openIndex(l),key:l.uuid,active:l.index===((u=s.selectedIndex)==null?void 0:u.index),color:"primary",rounded:"shaped"},{append:e(()=>[t($,{size:"x-small",class:"ml-2"},{default:e(()=>[o(d(l["store.size"]),1)]),_:2},1024)]),default:e(()=>[t(w,{textContent:d(l.index.replace(/unhcr_deduplication_/,""))},null,8,["textContent"])]),_:2},1032,["onClick","active"])}),128))]),_:1})]),_:1}),t(a,{cols:"12",md:"9",class:"pr-md-16"},{default:e(()=>[s.selectedIndex?(i(),c("div",q,[n("div",L,[r[0]||(r[0]=n("strong",null,"Index: ",-1)),n("span",null,d(s.selectedIndex.index),1)]),t(m,{class:"bg-primary"},{default:e(()=>[t(a,null,{default:e(()=>[o("Health: "+d(s.selectedIndex.health),1)]),_:1}),t(a,null,{default:e(()=>[o("Status: "+d(s.selectedIndex.status),1)]),_:1}),t(a,null,{default:e(()=>[o("Documents: "+d(s.selectedIndex["docs.count"]),1)]),_:1}),t(a,null,{default:e(()=>[o("Deleted: "+d(s.selectedIndex["docs.deleted"]),1)]),_:1}),t(a,null,{default:e(()=>[o("Size: "+d(s.selectedIndex["store.size"]),1)]),_:1})]),_:1}),t(m,{class:"mt-8"},{default:e(()=>[t(a,{class:"ml-4"},{default:e(()=>[(i(!0),c(h,null,_(s.records,(l,u)=>(i(),c("div",{class:"pl-4",key:"record"+u,style:{"border-left":"#0072BC 5px solid","max-width":"100%"}},[n("pre",A,d(JSON.stringify(l,void 0,2)),1)]))),128))]),_:1})]),_:1})])):y("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}typeof f=="function"&&f(x);const X=b(x,[["render",D]]);export{X as default};
