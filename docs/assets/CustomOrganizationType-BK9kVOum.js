import{p as g}from"./index-1qao1M8l.js";import{_ as p}from"./index-Dr3A69Vy.js";import{m as _,A as v,z as f,f as u,l as V,Q as b}from"./vuetify-8yKwgmF2.js";import{a2 as h,a3 as m,a4 as l,u as o,a6 as $,W as d,a7 as k,Y as c,a9 as y}from"./@vue-CVhpfiSJ.js";const w={name:"BlockSumbission",inject:["$confirm","$error","$loading","$showResult"],props:{modelValue:{type:Object,default:()=>({})},table:{type:String,default:"entity"}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},isAdmin(){var e,t,i;return(i=(t=(e=this.appStore)==null?void 0:e.user)==null?void 0:t.role)==null?void 0:i.includes("Admin")}},methods:{async save(){if(!await this.$confirm({title:"Save entity",description:"Would you like to save the entity?"}))return!1;this.$loading(!0);let t;const i=g[this.table],n=i==null?void 0:i.preprocess;n&&(this.model=n(this.model)),await this.$nextTick();try{const r=this.$storage[this.table];this.model.id||(t=await r.push(this.model)),this.model.id&&(t=await r.update(this.model.id,this.model))}catch(r){await this.$error(r),t=!1}if(this.$loading(!1),!t)return!1;await this.$showResult(),this.$goToPreviousPage()},async remove(){if(!await this.$confirm({title:"Delete entity",description:"Would you like to save the entity?"}))return!1;this.$loading(!0);let t;try{const i=this.$storage[this.table];t=await delete i[this.model.id]}catch(i){t=!1,await this.$error(i)}if(this.$loading(!1),!t)return!1;await this.$showResult(),this.$goToPreviousPage()}}},C={class:"text-h5 mb-2 offset-md1 black--text"};function S(e,t,i,n,r,s){return m(),h(V,{class:"data-block block-submission pt-sm-4 pb-sm-4 pb-md-16",rounded:"0"},{default:l(()=>[o(_,null,{default:l(()=>[o(v,{class:"mb-sm-4 mt-4"},{default:l(()=>[o(f,{cols:"12",md:"3",class:"pl-md-16"},{default:l(()=>[$("div",C,d(e.$t("Submission")),1),$("div",null,d(e.$t("Please verify and submit your data")),1)]),_:1}),o(f,{cols:"12",md:"9",class:"pr-md-16"},{default:l(()=>[o(u,{onClick:s.save,block:e.$vuetify.display.xs,color:"primary","prepend-icon":"mdi-pencil",class:"mb-2 mr-4"},{default:l(()=>[c(d(e.$t("Save")),1)]),_:1},8,["onClick","block"]),s.isAdmin?(m(),h(u,{key:0,onClick:s.remove,block:e.$vuetify.display.xs,color:"error","prepend-icon":"mdi-pencil",class:"mb-2 mr-4"},{default:l(()=>[c(d(e.$t("Delete")),1)]),_:1},8,["onClick","block"])):k("",!0),o(u,{onClick:t[0]||(t[0]=a=>e.$router.go(-1)),block:e.$vuetify.display.xs,variant:"text",color:"warning","prepend-icon":"mdi-close",class:"mb-sm-2 mr-4"},{default:l(()=>[c(d(e.$t("Cancel")),1)]),_:1},8,["block"])]),_:1})]),_:1})]),_:1})]),_:1})}const I=p(w,[["render",S]]),N=["UN Agency","Operational partner","Implementing partner","Local authority"],O={name:"CustomOrganizationFunctionalType",props:{modelValue:{type:String}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},items(){return N}}},R={class:"organization-functional-type"};function z(e,t,i,n,r,s){return m(),y("div",R,[o(b,{modelValue:s.model,"onUpdate:modelValue":t[0]||(t[0]=a=>s.model=a),items:s.items,"item-title":a=>a?e.$t(a):"","item-value":a=>a,label:e.$t("Functional type"),variant:"underlined",clearable:"","hide-details":""},null,8,["modelValue","items","item-title","item-value","label"])])}const W=p(O,[["render",z]]),T=["Academic / Research","Donor","Embassy","Government","International NGO","International Organization","Media","Military","National NGO","Other","Private sector","Red Cross / Red Crescent","Religious","United Nations"],A={name:"CustomOrganizationType",props:{modelValue:{type:String}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},items(){return T}}},B={class:"organization-type"};function P(e,t,i,n,r,s){return m(),y("div",B,[o(b,{modelValue:s.model,"onUpdate:modelValue":t[0]||(t[0]=a=>s.model=a),items:s.items,"item-title":a=>a?e.$t(a):"","item-value":a=>a,label:e.$t("Organization type"),variant:"underlined",clearable:"","hide-details":""},null,8,["modelValue","items","item-title","item-value","label"])])}const j=p(A,[["render",P]]);export{j as _,W as a,I as b};
